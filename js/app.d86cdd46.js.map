{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/ChatWindow/RoomsList.vue?4e66","webpack:///../src/ChatWindow/SvgIcon.vue?5b6e","webpack:///../src/ChatWindow/ChatLoader.vue?c457","webpack:///./src/App.vue?aa2b","webpack:///./src/firestore/index.js","webpack:///./src/ChatContainer.vue?e473","webpack:///./src/utils/dates.js","webpack:///../src/ChatWindow/ChatWindow.vue?84c6","webpack:///../src/ChatWindow/RoomsList.vue?e39d","webpack:///../src/ChatWindow/ChatLoader.vue?e953","webpack:///../src/ChatWindow/ChatLoader.vue","webpack:///../src/ChatWindow/ChatLoader.vue?343e","webpack:///../src/ChatWindow/ChatLoader.vue?b0e1","webpack:///../src/utils/filterItems.js","webpack:///../src/ChatWindow/SvgIcon.vue?e0b1","webpack:///../src/ChatWindow/SvgIcon.vue","webpack:///../src/ChatWindow/SvgIcon.vue?f610","webpack:///../src/ChatWindow/SvgIcon.vue?a33d","webpack:///../src/ChatWindow/RoomsList.vue","webpack:///../src/ChatWindow/RoomsList.vue?ef85","webpack:///../src/ChatWindow/RoomsList.vue?6603","webpack:///../src/ChatWindow/MessagesList.vue?e797","webpack:///../src/ChatWindow/ChatMessage.vue?f734","webpack:///../src/ChatWindow/EmojiPicker.vue?1aff","webpack:///../src/ChatWindow/EmojiPicker.vue","webpack:///../src/ChatWindow/EmojiPicker.vue?4fe9","webpack:///../src/ChatWindow/EmojiPicker.vue?54f4","webpack:///../src/ChatWindow/ChatMessage.vue","webpack:///../src/ChatWindow/ChatMessage.vue?f604","webpack:///../src/ChatWindow/ChatMessage.vue?03c8","webpack:///../src/ChatWindow/MessagesList.vue","webpack:///../src/ChatWindow/MessagesList.vue?c119","webpack:///../src/ChatWindow/MessagesList.vue?a8e8","webpack:///../src/locales/index.js","webpack:///../src/themes/index.js","webpack:///../src/ChatWindow/ChatWindow.vue","webpack:///../src/ChatWindow/ChatWindow.vue?9b52","webpack:///../src/ChatWindow/ChatWindow.vue?c7d7","webpack:///../src/ChatWindow/index.js","webpack:///src/ChatContainer.vue","webpack:///./src/ChatContainer.vue?e975","webpack:///./src/ChatContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///../src/utils/roomValidation.js","webpack:///../src/ChatWindow/ChatWindow.vue?3605","webpack:///./src/assets/logo.svg","webpack:///../src/ChatWindow/ChatMessage.vue?7512","webpack:///../src/ChatWindow/MessagesList.vue?2059","webpack:///./src/ChatContainer.vue?bf7d","webpack:///../src/ChatWindow/EmojiPicker.vue?f104"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentUserId","multiple","_l","user","_id","domProps","_s","username","theme","attrs","_e","staticRenderFns","config","JSON","parse","process","app","firebase","db","storageRef","ref","usersRef","collection","roomsRef","filesRef","child","deleteDbField","firestore","FieldValue","serverTimestamp","preventDefault","createRoom","composing","addRoomUsername","disableForm","addNewRoom","addRoomUser","invitedUsername","inviteRoomId","deleteRoomUser","removeUserId","removeRoomId","rooms","loadingRooms","messages","messagesLoaded","menuActions","fetchMessages","sendMessage","editMessage","deleteMessage","openFile","addRoom","menuActionHandler","messageActionHandler","sendMessageReaction","parseTimestamp","timestamp","format","date","seconds","Date","zeroPad","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","num","pad","String","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","style","height","cssVars","room","showRoomsList","isMobile","fetchRoom","messageActions","showFiles","showEmojis","showReactionEmojis","toggleRoomsList","class","textMessages","SEARCH","searchRoom","roomId","selectedRoomId","openRoom","background","roomName","lastMessage","new","content","component","items","prop","v","toLowerCase","normalize","replace","indexOf","svgId","svgItem","find","item","path","$emit","menuOpened","action","title","loadingMessages","MESSAGES_EMPTY","CONVERSATION_STARTED","loadMoreMessages","slot","message","editedMessage","users","$refs","roomFooter","newMessages","emojisList","hideOptions","addNewMessage","scrollToBottom","isImageCheck","messageReply","file","url","resetMessage","resetImageFile","imageFile","imageDimensions","width","TYPE_MESSAGE","autoGrow","type","_k","keyCode","ctrlKey","shiftKey","altKey","metaKey","emojiOpened","addEmoji","launchFilePicker","staticStyle","onFileChange","files","inputDisabled","newMessage","NEW_MESSAGES","sender_id","onHoverMessage","onLeaveMessage","isMessageHover","deleted","roomUsers","replyMessage","replyUsername","MESSAGE_DELETED","top","imageResponsive","isImageLoading","imageHover","stopPropagation","edited","openOptions","roomFooterRef","openEmoji","filteredMessageActions","menuOptionsHeight","reaction","float","getEmojiByName","search","append","scopedSlots","_u","fn","clickEvent","events","click","emojiReaction","emojis","insert","emojiPickerHeight","right","positionRight","display","emojiGroup","category","emoji","emojiName","defaultThemeColors","light","general","color","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","header","footer","borderStyleInput","borderInputSelected","backgroundReply","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","dropdown","backgroundMe","backgroundDeleted","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","colorReplyUsername","colorReply","backgroundImage","colorNewMessages","backgroundReaction","borderStyleReaction","backgroundReactionHover","borderStyleReactionHover","colorReactionCounter","backgroundReactionMe","borderStyleReactionMe","backgroundReactionHoverMe","borderStyleReactionHoverMe","colorReactionCounterMe","colorMessage","colorNewDot","icons","add","toggle","menu","close","closeImage","paperclip","closeOutline","send","sendDisabled","document","pencil","checkmark","eye","dropdownScroll","dark","cssThemeVars","ChatWindow","configurable","Vue","productionTip","render","h","App","$mount","roomsValid","obj","roomsValidate","validate","props","every","validType","isArray","partcipantsValid","participantsValidate"],"mappings":"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EA,sBACA,gEAEA,UA9EA,SA8EA,GACA,mBACA,8BAEA,WAlFA,WAmFA,oBACA,gEAEA,eAtFA,SAsFA,GACA,2BAEA,oBAzFA,SAyFA,KACA,kCACA,2BACA,WACA,+CAEA,qBCta8W,MCQ1W,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,qmBC0Lf,QACA,qBACA,YACA,oBACA,aACA,eACA,UACA,gBAGA,YACA,4BAGA,OACA,wCACA,uCACA,yCACA,oCACA,+BACA,kCACA,0CACA,qCACA,wCACA,qCACA,sCACA,+CAGA,KA7BA,WA8BA,OACA,WACA,iBACA,kBACA,mBACA,mBACA,UACA,eACA,6CACA,cACA,eACA,cACA,eACA,cACA,iBAIA,QAhDA,WAgDA,WACA,oBAEA,gDACA,+CAGA,SACA,8CACA,uCACA,iBACA,aACA,2BACA,gDAGA,iEACA,4EAGA,OACA,gBADA,SACA,GACA,0BACA,sBAEA,KALA,WAMA,wBACA,qBAEA,SATA,SASA,KACA,6DACA,MAEA,2BAEA,6BACA,uBACA,oBACA,gBACA,GAGA,mBACA,4BACA,WACA,wBACA,oDAGA,eA7BA,SA6BA,GACA,6BACA,mDAEA,UAjCA,WAiCA,WACA,uBACA,sBACA,8CAEA,mBACA,kCACA,oCAEA,MAIA,UACA,eADA,WAEA,uEAEA,oBAJA,WAKA,kDAEA,cAPA,WAQA,+BAIA,SACA,cADA,SACA,GACA,0BAEA,aAJA,WAIA,WACA,yBACA,gBACA,sBACA,uBACA,eACA,oBACA,oBACA,sDAEA,eAdA,WAeA,oBACA,6BACA,eACA,sBAEA,kBApBA,WAqBA,6BACA,iDAEA,cAxBA,WAyBA,eACA,oCAEA,eA5BA,WA6BA,wCAEA,YA/BA,YAgCA,kCAEA,wBACA,uDACA,0BACA,iCACA,+BACA,eACA,iCAIA,0BACA,4BACA,eACA,iCAIA,sBAEA,iBArDA,SAqDA,GACA,0CACA,oBAEA,qBACA,6BAEA,qBA5DA,YA4DA,2BACA,eACA,mBACA,4BACA,kBACA,2BACA,oBACA,yCACA,QACA,8CAGA,oBAxEA,SAwEA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CA,8DAEA,YAvBA,SAuBA,GACA,8DAEA,cA1BA,SA0BA,GACA,mEAEA,SA7BA,SA6BA,GACA,0BAEA,kBAhCA,SAgCA,GACA,oEAEA,qBAnCA,SAmCA,GACA,mCACA,SACA,2BAGA,oBAzCA,SAyCA,GACA,uCACA,EADA,CAEA,8BC/K6W,MCQzW,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCjBfjV,OAAO8B,eAAesT,GAAY,UAAW,CAC5CC,cAAc,EACdtT,YAAY,EACZK,MAH4C,SAGtCkT,GACLA,EAAIpK,UAAU,cAAekK,OAIhBA,U,glBCwEf,QACA,YACA,eAGA,gCAEA,KAPA,WAQA,OACA,WACA,SACA,gBACA,YACA,kBACA,WACA,SACA,kBACA,aACA,eACA,gBACA,mBACA,kBACA,mBACA,kBACA,gBACA,eACA,aACA,wCACA,wCACA,2CAKA,QAlCA,WAmCA,mBAGA,UAtCA,WAuCA,mBAGA,SACA,YADA,SACA,GACA,wCAEA,WAJA,WAKA,qBACA,cACA,uDACA,sBAGA,cAXA,WAYA,iBACA,uBACA,gBACA,cACA,kDACA,mBAGA,WApBA,uLAqBA,kBArBA,SAuBA,EACA,mDACA,MAzBA,cAuBA,EAvBA,OA2BA,KACA,KAEA,uBACA,SAEA,gCACA,QACA,OACA,MACA,kBACA,aACA,SADA,GAEA,CACA,YACA,gCAKA,aAGA,uCACA,+BAGA,KAtDA,UAwDA,eAxDA,eAwDA,EAxDA,OA0DA,mBACA,sCACA,2BA5DA,UA+DA,iCACA,0BACA,OACA,mCACA,uBAnEA,QA+DA,EA/DA,OAwEA,mEAEA,KAEA,oCACA,WAEA,kBACA,8CAGA,WACA,6DAEA,MACA,0BACA,YACA,UAEA,iBAEA,SACA,UACA,QAKA,gCACA,qBACA,iEAtGA,yGAyGA,eAzGA,SAyGA,GACA,8BACA,4BACA,SACA,MACA,kBACA,SAEA,OADA,kDACA,8BAIA,kBArHA,SAqHA,gBACA,6BACA,4BACA,SACA,wBACA,uBACA,oCACA,+BAIA,6BAGA,kBAnIA,SAmIA,GACA,gBACA,wCACA,mCAEA,mBACA,6BAEA,gBAIA,OAHA,2DACA,0CAEA,CACA,UACA,YACA,kDACA,IACA,oCACA,wCAIA,cAzJA,YAyJA,kDAGA,GAFA,8BAEA,oDAEA,iCAEA,oDAEA,yCAEA,0BACA,+BAEA,yBACA,gCAEA,6BAEA,mCACA,0BAEA,uBACA,2BACA,yBAGA,gCACA,yBAEA,wBAIA,eA3LA,SA2LA,gBACA,uBACA,2BACA,4DAEA,MACA,kCAEA,uBAGA,4BAIA,iBA1MA,SA0MA,KAEA,yCACA,kDAEA,2BACA,UACA,OAFA,iCAGA,gCAKA,cAvNA,SAuNA,KACA,oBACA,iDAFA,EAKA,WALA,EAKA,YALA,EAKA,UAEA,aACA,SADA,GAEA,CACA,YACA,SACA,kBACA,uBACA,yBACA,8BAKA,YA3OA,iLA2OA,EA3OA,EA2OA,UA3OA,EA2OA,SA3OA,EA2OA,OA3OA,EA2OA,aACA,GACA,6BACA,UACA,oBAGA,IACA,QACA,YACA,YACA,YACA,iBAIA,IACA,gBACA,UACA,kBACA,uBAGA,SACA,6BAnQA,SAuQA,2BAvQA,gBAuQA,EAvQA,EAuQA,GAEA,kDAzQA,yGA4QA,SA5QA,SA4QA,GACA,kCAGA,YAhRA,6KAgRA,EAhRA,EAgRA,YAhRA,EAgRA,aAhRA,EAgRA,SAhRA,EAgRA,KACA,oBACA,YAGA,OADA,EACA,CACA,YACA,YACA,YACA,uBAGA,EA5RA,SA+RA,oBACA,OACA,UAjSA,yGAoSA,cApSA,uKAoSA,EApSA,EAoSA,YApSA,EAoSA,OApSA,SAqSA,oBACA,OACA,2BAvSA,yGA0SA,WA1SA,6KA0SA,EA1SA,EA0SA,OA1SA,EA0SA,YA1SA,EA0SA,OACA,IACA,0BACA,SACA,MAHA,UAGA,OAHA,YAGA,SA9SA,SAgTA,mCAhTA,uBAiTA,mBAjTA,cAiTA,EAjTA,gBAmTA,oBACA,OACA,OAFA,kBAGA,eAtTA,yGA0TA,kBA1TA,YA0TA,0BACA,eACA,iBACA,0BACA,iBACA,0BACA,iBACA,4BAIA,qBArUA,aAyUA,oBAzUA,6KAyUA,EAzUA,EAyUA,WAzUA,EAyUA,SAzUA,EAyUA,YAzUA,EAyUA,OACA,IACA,uDACA,sDA5UA,SA8UA,oBACA,OACA,OAFA,sCAGA,YAjVA,yGAqVA,QArVA,WAsVA,kBACA,oBAGA,WA1VA,sKA2VA,oBA3VA,SA6VA,uCA7VA,uBA6VA,EA7VA,EA6VA,GA7VA,SA8VA,yBA9VA,uBA+VA,sCA/VA,OAiWA,mBACA,wBACA,kBAnWA,yGAsWA,WAtWA,SAsWA,GACA,kBACA,qBAGA,YA3WA,sKA4WA,oBA5WA,SA8WA,uCA9WA,uBA8WA,EA9WA,EA8WA,GA9WA,SA+WA,yBA/WA,uBAiXA,EACA,uBACA,qDAnXA,OAqXA,uBACA,wBACA,kBAvXA,yGA0XA,WA1XA,SA0XA,GACA,kBACA,oBACA,4EAGA,eAhYA,8JAiYA,oBAjYA,SAmYA,iCACA,8DApYA,OAuYA,uBACA,qBACA,kBAzYA,wGA4YA,WA5YA,oEA4YA,GA5YA,gGA6YA,sBAEA,0BACA,SACA,6DAjZA,SAoZA,qBApZA,OAsZA,6DACA,8BAvZA,yGA0ZA,WA1ZA,WA2ZA,oBACA,qBACA,wBACA,uBACA,wBACA,uBACA,wBC7hBwU,MCQpU,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCiBf,IACA,YACA,kBAGA,KALA,WAMA,OACA,cACA,YACA,OACA,CACA,2BACA,gBACA,kEAEA,CACA,2BACA,gBACA,mEAEA,CACA,2BACA,gBACA,OACA,6GAGA,qCACA,kBAIA,OACA,cADA,WACA,WACA,iBACA,qDAIA,SACA,UADA,WAEA,0BACA,+KACA,qCADA,SAGA,0BACA,SACA,6DALA,OAQA,wBARA,qGAYA,0BACA,uBACA,+BAIA,QArBA,wKAsBA,qBAEA,gBAxBA,SAyBA,oBAzBA,cA2BA,gBA3BA,SA4BA,oBA5BA,cA8BA,gBA9BA,UA+BA,oBA/BA,yBAiCA,6BAjCA,yBAkCA,6BAlCA,yBAmCA,6BAnCA,yBAoCA,mCApCA,QAsCA,qBAtCA,2GC3E8T,MCQ1T,I,UAAY,eACd,GACA,EACA/P,GACA,EACA,KACA,KACA,OAIa,M,QChBfiQ,OAAIhQ,OAAOiQ,eAAgB,EAE3B,IAAID,OAAI,CACPE,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACbC,OAAO,S,oCCPV,yBAAmf,EAAG,G,mLCA/e,SAASC,EAAWC,GAC1B,IAAMC,EAAgB,CACrB,CAAEpT,IAAK,SAAUmL,KAAM,CAAC,SAAU,WAClC,CAAEnL,IAAK,WAAYmL,KAAM,CAAC,WAC1B,CAAEnL,IAAK,QAASmL,KAAM,CAAC,WAGlBkI,EAAW,SAACF,EAAKG,GACtB,OAAOA,EAAMC,OAAM,SAAA7K,GAClB,IAAI8K,GAAY,EAQhB,MANqB,UAAjB9K,EAAKyC,KAAK,IAAkB3J,MAAMiS,QAAQN,EAAIzK,EAAK1I,MACtDwT,GAAY,EACF9K,EAAKyC,KAAKjC,MAAK,SAAAvJ,GAAC,OAAIA,IAAM,eAAOwT,EAAIzK,EAAK1I,WACpDwT,GAAY,GAGNA,GAAaL,EAAI3V,eAAekL,EAAK1I,MAAQmT,EAAIzK,EAAK1I,SAI/D,OAAOqT,EAASF,EAAKC,GAGf,SAASM,EAAiBP,GAChC,IAAMQ,EAAuB,CAC5B,CAAE3T,IAAK,MAAOmL,KAAM,CAAC,SAAU,WAC/B,CAAEnL,IAAK,WAAYmL,KAAM,CAAC,YAGrBkI,EAAW,SAACF,EAAKG,GACtB,OAAOA,EAAMC,OAAM,SAAA7K,GAClB,IAAM8K,EAAY9K,EAAKyC,KAAKjC,MAAK,SAAAvJ,GAAC,OAAIA,IAAM,eAAOwT,EAAIzK,EAAK1I,SAC5D,OAAOwT,GAAaL,EAAI3V,eAAekL,EAAK1I,MAAQmT,EAAIzK,EAAK1I,SAI/D,OAAOqT,EAASF,EAAKQ,K,oCCrCtB,yBAAkjB,EAAG,G,8CCArjB/U,EAAOD,QAAU,IAA0B,yB,6DCA3C,yBAA2kB,EAAG,G,kCCA9kB,yBAA4kB,EAAG,G,gFCA/kB,yBAAqhB,EAAG,G,kCCAxhB,yBAA2kB,EAAG","file":"js/app.d86cdd46.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-advanced-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=3ccbdea0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=3ccbdea0&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container\"},[_c('span',{staticClass:\"user-logged\"},[_vm._v(\"Logged as\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentUserId),expression:\"currentUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])}),0),_c('div',{staticClass:\"button-theme\"},[_c('button',{staticClass:\"button-light\",on:{\"click\":function($event){_vm.theme = 'light'}}},[_vm._v(\"Light\")]),_c('button',{staticClass:\"button-dark\",on:{\"click\":function($event){_vm.theme = 'dark'}}},[_vm._v(\"Dark\")])]),(_vm.showChat)?_c('chat-container',{attrs:{\"currentUserId\":_vm.currentUserId,\"theme\":_vm.theme}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as app from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/storage'\n\nconst config =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG)\n\t\t: JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG_PUBLIC)\n\napp.initializeApp(config)\n\nexport const firebase = app\nexport const db = app.firestore()\nexport const storageRef = app.storage().ref()\n\nexport const usersRef = db.collection('users')\nexport const roomsRef = db.collection('chatRooms')\n\nexport const filesRef = storageRef.child('files')\n\nexport const dbTimestamp = firebase.firestore.FieldValue.serverTimestamp()\nexport const deleteDbField = firebase.firestore.FieldValue.delete()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window-container\"},[_c('div',{staticClass:\"chat-forms\"},[(_vm.addNewRoom)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addRoomUsername),expression:\"addRoomUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username to create a room\"},domProps:{\"value\":(_vm.addRoomUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addRoomUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.addRoomUsername}},[_vm._v(\" Create Room \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.addNewRoom = false}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.inviteRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addRoomUser($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invitedUsername),expression:\"invitedUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add user to the room\"},domProps:{\"value\":(_vm.invitedUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.invitedUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.invitedUsername}},[_vm._v(\" Add User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.inviteRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.removeRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteRoomUser($event)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.removeUserId),expression:\"removeUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.removeUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"default\":\"\",\"value\":\"\"}},[_vm._v(\"Select User\")]),_vm._l((_vm.removeUsers),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])})],2),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.removeUserId}},[_vm._v(\" Remove User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.removeRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e()]),_c('chat-window',{attrs:{\"height\":\"calc(100vh - 80px)\",\"theme\":_vm.theme,\"currentUserId\":_vm.currentUserId,\"rooms\":_vm.rooms,\"loadingRooms\":_vm.loadingRooms,\"messages\":_vm.messages,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions},on:{\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"addRoom\":_vm.addRoom,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler,\"sendMessageReaction\":_vm.sendMessageReaction}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t}\n\treturn date\n}\n\nconst zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nexport const isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-window\",style:([{ height: _vm.height }, _vm.cssVars])},[_c('div',{staticClass:\"chat-container\"},[_c('rooms-list',{attrs:{\"rooms\":_vm.rooms,\"loadingRooms\":_vm.loadingRooms,\"room\":_vm.room,\"textMessages\":_vm.t,\"showRoomsList\":_vm.showRoomsList,\"isMobile\":_vm.isMobile},on:{\"fetchRoom\":_vm.fetchRoom,\"addRoom\":_vm.addRoom}}),_c('messages-list',{attrs:{\"currentUserId\":_vm.currentUserId,\"room\":_vm.room,\"messages\":_vm.messages,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions,\"messageActions\":_vm.messageActions,\"showFiles\":_vm.showFiles,\"showEmojis\":_vm.showEmojis,\"showReactionEmojis\":_vm.showReactionEmojis,\"textMessages\":_vm.t,\"showRoomsList\":_vm.showRoomsList,\"isMobile\":_vm.isMobile},on:{\"toggleRoomsList\":_vm.toggleRoomsList,\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler,\"sendMessageReaction\":_vm.sendMessageReaction}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showRoomsList)?_c('div',{staticClass:\"rooms-container app-border-r\",class:{ 'rooms-container-full': _vm.isMobile }},[_c('div',{staticClass:\"box-search\"},[_c('div',{staticClass:\"icon-search\"},[_c('svg-icon',{attrs:{\"name\":\"search\"}})],1),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.textMessages.SEARCH,\"autocomplete\":\"off\"},on:{\"input\":_vm.searchRoom}}),_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.addRoom}},[_c('svg-icon',{attrs:{\"name\":\"add\"}})],1)]),_c('chat-loader',{attrs:{\"show\":_vm.loadingRooms}}),(!_vm.loadingRooms && !_vm.rooms.length)?_c('div',{staticClass:\"rooms-empty\"},[_vm._v(\" No rooms \")]):_vm._e(),(!_vm.loadingRooms)?_c('div',{staticClass:\"room-list\"},_vm._l((_vm.filteredRooms),function(room){return _c('div',{key:room.roomId,staticClass:\"room-item\",class:{ 'room-selected': _vm.selectedRoomId === room.roomId },on:{\"click\":function($event){return _vm.openRoom(room)}}},[(room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ background: (\"url(\" + (room.avatar) + \")\") })}):_vm._e(),_c('div',{staticClass:\"name-container\"},[_c('div',{staticClass:\"title-container\"},[_c('div',{staticClass:\"room-name\"},[_vm._v(_vm._s(room.roomName))]),(room.lastMessage)?_c('div',{staticClass:\"room-name text-date\"},[_vm._v(\" \"+_vm._s(room.lastMessage.timestamp)+\" \")]):_vm._e()]),(room.lastMessage)?_c('div',{staticClass:\"room-name text-last\",class:{ 'message-new': room.lastMessage.new }},[(room.lastMessage.seen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e(),(room.lastMessage.new)?_c('span',{staticClass:\"dot-new\"}):_vm._e(),_c('span',[_vm._v(_vm._s(room.lastMessage.content))])]):_vm._e()])])}),0):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade-spinner\",\"appear\":\"\"}},[(_vm.show)?_c('div',{staticClass:\"container-center\"},[_c('div',{attrs:{\"id\":\"circle\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"fade-spinner\" appear>\n\t\t<div class=\"container-center\" v-if=\"show\">\n\t\t\t<div id=\"circle\"></div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'chat-loader',\n\tprops: ['show']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container-center {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 9999;\n}\n\n#circle {\n\theight: 32px;\n\twidth: 32px;\n\tborder: 3px rgba(0, 0, 0, 0.25) solid;\n\tborder-top: 3px var(--chat-color-spinner) solid;\n\tborder-right: 3px var(--chat-color-spinner) solid;\n\tborder-bottom: 3px var(--chat-color-spinner) solid;\n\tborder-radius: 50%;\n\t-webkit-animation: spin 1s infinite linear;\n\tanimation: spin 1s infinite linear;\n}\n\n@-webkit-keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n@keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatLoader.vue?vue&type=template&id=13352d18&scoped=true&\"\nimport script from \"./ChatLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatLoader.vue?vue&type=style&index=0&id=13352d18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13352d18\",\n  null\n  \n)\n\nexport default component.exports","export default (items, prop, val) => {\n\tif (!val || val === '') return items\n\n\treturn items.filter(v => {\n\t\treturn (\n\t\t\tv[prop]\n\t\t\t\t.toLowerCase()\n\t\t\t\t.normalize('NFD')\n\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t.indexOf(\n\t\t\t\t\tval\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.normalize('NFD')\n\t\t\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t) > -1\n\t\t)\n\t})\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem.find(function (item) { return item.name === _vm.name; }).path}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tversion=\"1.1\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path :id=\"svgId\" :d=\"svgItem.find(item => item.name === name).path\" />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tname: 'svg-icon',\n\tprops: ['name', 'path', 'param'],\n\n\tcomputed: {\n\t\tsvgId() {\n\t\t\tconst param = this.param ? '-' + this.param : ''\n\t\t\treturn `chat-icon-${this.name}${param}`\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgItem: [\n\t\t\t\t{\n\t\t\t\t\tname: 'search',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'add',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'toggle',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z'\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'menu',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'paperclip',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close-outline',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'send',\n\t\t\t\t\tpath: 'M2,21L23,12L2,3V10L17,12L2,14V21Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'emoji',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'document',\n\t\t\t\t\tpath: 'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'pencil',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'checkmark',\n\t\t\t\t\tpath: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'eye',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'dropdown',\n\t\t\t\t\tpath: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n#chat-icon-search {\n\tfill: var(--chat-icon-color-search);\n}\n\n#chat-icon-add {\n\tfill: var(--chat-icon-color-add);\n}\n\n#chat-icon-toggle {\n\tfill: var(--chat-icon-color-toggle);\n}\n\n#chat-icon-menu {\n\tfill: var(--chat-icon-color-menu);\n}\n\n#chat-icon-close {\n\tfill: var(--chat-icon-color-close);\n}\n\n#chat-icon-close-image {\n\tfill: var(--chat-icon-color-close-image);\n}\n\n#chat-icon-file {\n\tfill: var(--chat-icon-color-file);\n}\n\n#chat-icon-paperclip {\n\tfill: var(--chat-icon-color-paperclip);\n}\n\n#chat-icon-close-outline {\n\tfill: var(--chat-icon-color-close-outline);\n}\n\n#chat-icon-send {\n\tfill: var(--chat-icon-color-send);\n}\n\n#chat-icon-send-disabled {\n\tfill: var(--chat-icon-color-send-disabled);\n}\n\n#chat-icon-emoji {\n\tfill: var(--chat-icon-color-emoji);\n}\n\n#chat-icon-emoji-reaction {\n\tfill: var(--chat-icon-color-emoji-reaction);\n}\n\n#chat-icon-document {\n\tfill: var(--chat-icon-color-document);\n}\n\n#chat-icon-pencil {\n\tfill: var(--chat-icon-color-pencil);\n}\n\n#chat-icon-checkmark {\n\tfill: var(--chat-icon-color-checkmark);\n}\n\n#chat-icon-eye {\n\tfill: var(--chat-icon-color-eye);\n}\n\n#chat-icon-dropdown {\n\tfill: var(--chat-icon-color-dropdown);\n}\n\n#chat-icon-dropdown-scroll {\n\tfill: var(--chat-icon-color-dropdown-scroll);\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgIcon.vue?vue&type=template&id=674a0950&\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\tclass=\"rooms-container app-border-r\"\n\t\t:class=\"{ 'rooms-container-full': isMobile }\"\n\t\tv-if=\"showRoomsList\"\n\t>\n\t\t<div class=\"box-search\">\n\t\t\t<div class=\"icon-search\">\n\t\t\t\t<svg-icon name=\"search\" />\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\t:placeholder=\"textMessages.SEARCH\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t@input=\"searchRoom\"\n\t\t\t/>\n\t\t\t<div class=\"svg-button\" @click=\"addRoom\">\n\t\t\t\t<svg-icon name=\"add\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<chat-loader :show=\"loadingRooms\"></chat-loader>\n\n\t\t<div class=\"rooms-empty\" v-if=\"!loadingRooms && !rooms.length\">\n\t\t\tNo rooms\n\t\t</div>\n\n\t\t<!-- :class=\"{ 'room-disabled': loadingMessages }\" -->\n\t\t<div v-if=\"!loadingRooms\" class=\"room-list\">\n\t\t\t<div\n\t\t\t\tclass=\"room-item\"\n\t\t\t\tv-for=\"room in filteredRooms\"\n\t\t\t\t:key=\"room.roomId\"\n\t\t\t\t:class=\"{ 'room-selected': selectedRoomId === room.roomId }\"\n\t\t\t\t@click=\"openRoom(room)\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t\t:style=\"{ background: `url(${room.avatar})` }\"\n\t\t\t\t></div>\n\t\t\t\t<div class=\"name-container\">\n\t\t\t\t\t<div class=\"title-container\">\n\t\t\t\t\t\t<div class=\"room-name\">{{ room.roomName }}</div>\n\t\t\t\t\t\t<div class=\"room-name text-date\" v-if=\"room.lastMessage\">\n\t\t\t\t\t\t\t{{ room.lastMessage.timestamp }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"room-name text-last\"\n\t\t\t\t\t\t:class=\"{ 'message-new': room.lastMessage.new }\"\n\t\t\t\t\t\tv-if=\"room.lastMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span v-if=\"room.lastMessage.seen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"room.lastMessage.new\" class=\"dot-new\"></span>\n\t\t\t\t\t\t<span>{{ room.lastMessage.content }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ChatLoader from './ChatLoader'\nimport filteredUsers from '../utils/filterItems'\nimport SvgIcon from './SvgIcon'\n\nexport default {\n\tname: 'rooms-list',\n\tcomponents: { ChatLoader, SvgIcon },\n\n\tprops: {\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tfilteredRooms: this.rooms || [],\n\t\t\tselectedRoomId: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(val) {\n\t\t\tif (val[0]) this.selectedRoomId = val[0].roomId\n\t\t\tthis.filteredRooms = val\n\t\t}\n\t},\n\n\tmethods: {\n\t\tsearchRoom(ev) {\n\t\t\tthis.filteredRooms = filteredUsers(\n\t\t\t\tthis.rooms,\n\t\t\t\t'roomName',\n\t\t\t\tev.target.value\n\t\t\t)\n\t\t},\n\t\topenRoom(room) {\n\t\t\tif (room.roomId === this.room.roomId && !this.isMobile) return\n\t\t\tthis.selectedRoomId = room.roomId\n\t\t\tthis.$emit('fetchRoom', { room })\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.rooms-container {\n\tflex: 0 0 25%;\n\tposition: relative;\n\tbackground: var(--chat-sidemenu-bg-color);\n\theight: 100%;\n}\n\n.rooms-container-full {\n\tflex: 0 0 100%;\n}\n\n.box-search {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 64px;\n\tpadding: 0 20px;\n\tmargin-top: 5px;\n}\n\n.icon-search {\n\tdisplay: flex;\n\tposition: absolute;\n\tleft: 30px;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\twidth: 22px;\n\t\theight: 22px;\n\t}\n}\n\ninput {\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tborder-radius: 4px;\n\tmargin-right: 20px;\n\twidth: 100%;\n\tfont-size: 15px;\n\toutline: 0;\n\tcaret-color: var(--chat-color-caret);\n\tpadding: 10px 10px 10px 38px;\n\tborder: 1px solid var(--chat-sidemenu-border-color-search);\n\tborder-radius: 20px;\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t}\n}\n\n.rooms-empty {\n\tfont-size: 14px;\n\tcolor: #9ca6af;\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin: 40px 0;\n}\n\n.room-list {\n\t-webkit-box-flex: 0;\n\tflex: 0 1 auto;\n\tposition: relative;\n\tmax-width: 100%;\n\tcursor: pointer;\n\tpadding: 5px 10px;\n}\n\n.room-item {\n\tborder-radius: 8px;\n\t-webkit-box-align: center;\n\talign-items: center;\n\tdisplay: -webkit-box;\n\t-webkit-box-flex: 1;\n\tflex: 1 1 100%;\n\tmargin-bottom: 5px;\n\tpadding: 0 16px;\n\tposition: relative;\n\tmin-height: 71px;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-hover);\n\t\t-webkit-transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n\n\t&:not(:hover) {\n\t\t-webkit-transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n}\n\n.room-selected {\n\tcolor: var(--chat-sidemenu-color-active) !important;\n\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\t}\n}\n\n.name-container {\n\tflex: 1 1;\n}\n\n.title-container {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.room-name {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tcolor: var(--chat-room-color-username);\n}\n\n.text-last {\n\tcolor: var(--chat-room-color-message);\n\tfont-size: 12px;\n}\n\n.message-new {\n\tcolor: var(--chat-room-color-username);\n}\n\n.dot-new {\n\theight: 8px;\n\twidth: 8px;\n\tbackground-color: var(--chat-room-color-new-dot);\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\tmargin: 0 5px 0 0;\n}\n\n.text-date {\n\tcolor: var(--chat-room-color-timestamp);\n\tfont-size: 11px;\n\ttext-align: right;\n}\n\n.room-disabled {\n\tpointer-events: none;\n}\n\n.icon-check {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin-top: -2px;\n\tmargin-right: 1px;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsList.vue?vue&type=template&id=3ccbdea0&scoped=true&\"\nimport script from \"./RoomsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomsList.vue?vue&type=style&index=0&id=3ccbdea0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ccbdea0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return ((_vm.isMobile && !_vm.showRoomsList) || !_vm.isMobile)?_c('div',{staticClass:\"col-messages\",class:{ 'col-messages-full': !_vm.showRoomsList }},[_c('div',{staticClass:\"room-header app-border-b\"},[_c('div',{staticClass:\"svg-button toggle-button\",class:{ 'rotate-icon': !_vm.showRoomsList && !_vm.isMobile },on:{\"click\":function($event){return _vm.$emit('toggleRoomsList')}}},[_c('svg-icon',{attrs:{\"name\":\"toggle\"}})],1),(_vm.room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ background: (\"url(\" + (_vm.room.avatar) + \")\") })}):_vm._e(),_c('div',{staticClass:\"room-name\"},[_vm._v(_vm._s(_vm.room.roomName))]),(_vm.menuActions.length)?_c('div',{staticClass:\"svg-button room-options\",on:{\"click\":function($event){_vm.menuOpened = !_vm.menuOpened}}},[_c('svg-icon',{attrs:{\"name\":\"menu\"}})],1):_vm._e(),(_vm.menuActions.length)?_c('transition',{attrs:{\"name\":\"slide-left\"}},[(_vm.menuOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeMenu),expression:\"closeMenu\"}],staticClass:\"menu-options\"},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.menuActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.menuActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1),_c('div',{staticClass:\"container-scroll\"},[_c('div',{staticClass:\"messages-container\"},[_c('chat-loader',{attrs:{\"show\":_vm.loadingMessages}}),_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.showNoMessages)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.MESSAGES_EMPTY)+\" \")]):_vm._e(),(_vm.showMessagesStarted)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.CONVERSATION_STARTED)+\" \"+_vm._s(_vm.messages[0].date)+\" \")]):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.messages.length)?_c('infinite-loading',{attrs:{\"spinner\":\"spiral\",\"direction\":\"top\"},on:{\"infinite\":_vm.loadMoreMessages}},[_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})]):_vm._e()],1),_c('transition-group',{attrs:{\"name\":\"fade-message\"}},_vm._l((_vm.messages),function(message,i){return _c('div',{key:message._id},[_c('chat-message',{attrs:{\"currentUserId\":_vm.currentUserId,\"message\":message,\"index\":i,\"messages\":_vm.messages,\"editedMessage\":_vm.editedMessage,\"messageActions\":_vm.messageActions,\"roomUsers\":_vm.room.users,\"textMessages\":_vm.textMessages,\"roomFooterRef\":_vm.$refs.roomFooter,\"newMessages\":_vm.newMessages,\"showReactionEmojis\":_vm.showReactionEmojis,\"emojisList\":_vm.emojisList,\"hideOptions\":_vm.hideOptions},on:{\"messageActionHandler\":_vm.messageActionHandler,\"openFile\":_vm.openFile,\"addNewMessage\":_vm.addNewMessage,\"sendMessageReaction\":_vm.sendMessageReaction,\"hideOptions\":function($event){_vm.hideOptions = $event}}})],1)}),0)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.scrollIcon)?_c('div',{staticClass:\"icon-scroll\",on:{\"click\":_vm.scrollToBottom}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"scroll\"}})],1):_vm._e()])],1),_c('div',{ref:\"roomFooter\",staticClass:\"room-footer\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[(_vm.messageReply)?_c('div',{staticClass:\"reply-container\"},[_c('div',{staticClass:\"reply-box\"},[(_vm.isImageCheck(_vm.messageReply.file))?_c('img',{staticClass:\"image-reply\",attrs:{\"src\":_vm.messageReply.file.url}}):_vm._e(),_c('div',{staticClass:\"reply-info\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.messageReply.username))]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.messageReply.content))])])]),_c('div',{staticClass:\"icon-reply\"},[_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1)])]):_vm._e()]),_c('div',{staticClass:\"box-footer\"},[(_vm.imageFile)?_c('div',{staticClass:\"image-container\"},[_c('div',{staticClass:\"svg-button icon-image\",on:{\"click\":_vm.resetImageFile}},[_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})],1),_c('div',{staticClass:\"image-file\"},[_c('img',{ref:\"imageFile\",attrs:{\"src\":_vm.imageFile}})])]):(_vm.file)?_c('div',{staticClass:\"file-container\"},[_c('div',{staticClass:\"icon-file\"},[_c('svg-icon',{attrs:{\"name\":\"file\"}})],1),_c('div',[_vm._v(_vm._s(_vm.message))]),_c('div',{staticClass:\"svg-button icon-remove\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close\"}})],1)]):_vm._e(),_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.file || _vm.imageFile),expression:\"!file || imageFile\"},{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],ref:\"roomTextarea\",class:{\n\t\t\t\t\t'textarea-outline': _vm.editedMessage._id,\n\t\t\t\t\t'textarea-image': _vm.imageFile\n\t\t\t\t},style:({\n\t\t\t\t\theight: ((_vm.imageDimensions.height) + \"px\"),\n\t\t\t\t\t'min-height': ((_vm.imageDimensions.height - 14) + \"px\"),\n\t\t\t\t\t'padding-left': ((_vm.imageDimensions.width + 6) + \"px\")\n\t\t\t\t}),attrs:{\"placeholder\":_vm.textMessages.TYPE_MESSAGE},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.message=$event.target.value},_vm.autoGrow],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.resetMessage($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.sendMessage($event)}]}}),_c('div',{staticClass:\"icon-textarea\"},[(_vm.showEmojis && (!_vm.file || _vm.imageFile))?_c('emoji-picker',{attrs:{\"emojiOpened\":_vm.emojiOpened},on:{\"addEmoji\":_vm.addEmoji,\"openEmoji\":function($event){_vm.emojiOpened = $event}}}):_vm._e(),(_vm.showFiles)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.launchFilePicker}},[_c('svg-icon',{attrs:{\"name\":\"paperclip\"}})],1):_vm._e(),(_vm.showFiles)?_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChange($event.target.files)}}}):_vm._e(),(_vm.editedMessage._id)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1):_c('div',{staticClass:\"svg-button\",class:{ 'send-disabled': _vm.inputDisabled },on:{\"click\":_vm.sendMessage}},[_c('svg-icon',{attrs:{\"name\":\"send\",\"param\":_vm.inputDisabled ? 'disabled' : ''}})],1)],1)])],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showDate)?_c('div',{staticClass:\"card-date\"},[_vm._v(\" \"+_vm._s(_vm.message.date)+\" \")]):_vm._e(),(_vm.newMessage._id === _vm.message._id)?_c('div',{staticClass:\"line-new\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.NEW_MESSAGES)+\" \")]):_vm._e(),_c('div',{staticClass:\"message-box\",class:{ 'offset-current': _vm.message.sender_id === _vm.currentUserId }},[_c('div',{staticClass:\"message-container\",on:{\"mouseover\":function($event){return _vm.onHoverMessage(_vm.message)},\"mouseleave\":_vm.onLeaveMessage}},[_c('div',{ref:\"imageRef\",staticClass:\"message-card\",class:{\n\t\t\t\t\t'message-highlight': _vm.isMessageHover(_vm.message),\n\t\t\t\t\t'message-current': _vm.message.sender_id === _vm.currentUserId,\n\t\t\t\t\t'message-deleted': _vm.message.deleted\n\t\t\t\t}},[(_vm.roomUsers.length > 2 && _vm.message.sender_id !== _vm.currentUserId)?_c('div',{staticClass:\"text-username\",class:{\n\t\t\t\t\t\t'username-reply': !_vm.message.deleted && _vm.message.replyMessage\n\t\t\t\t\t}},[_c('span',[_vm._v(_vm._s(_vm.message.username))])]):_vm._e(),(!_vm.message.deleted && _vm.message.replyMessage)?_c('div',{staticClass:\"reply-message\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.replyUsername))]),(_vm.isImageReply)?_c('div',{staticClass:\"image-reply-container\"},[_c('div',{staticClass:\"message-image message-image-reply\",style:({ background: (\"url(\" + (_vm.message.replyMessage.file.url) + \")\") })})]):_vm._e(),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.message.replyMessage.content))])]):_vm._e(),(_vm.message.deleted)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.textMessages.MESSAGE_DELETED))])]):(!_vm.message.file)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.message.content))])]):(_vm.isImage)?_c('div',{staticClass:\"image-container\"},[_c('chat-loader',{style:({ top: ((_vm.imageResponsive.loaderTop) + \"px\") }),attrs:{\"show\":_vm.isImageLoading}}),_c('div',{staticClass:\"message-image\",class:{\n\t\t\t\t\t\t\t'image-loading':\n\t\t\t\t\t\t\t\t_vm.isImageLoading && _vm.message.sender_id === _vm.currentUserId\n\t\t\t\t\t\t},style:({\n\t\t\t\t\t\t\tbackground: (\"url(\" + (_vm.message.file.url) + \")\"),\n\t\t\t\t\t\t\t'max-height': ((_vm.imageResponsive.maxHeight) + \"px\")\n\t\t\t\t\t\t})},[_c('transition',{attrs:{\"name\":\"fade-image\"}},[(_vm.imageHover && !_vm.isImageLoading)?_c('div',{staticClass:\"image-buttons\"},[_c('div',{staticClass:\"svg-button button-view\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"eye\"}})],1),_c('div',{staticClass:\"svg-button button-download\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1)]):_vm._e()])],1),_c('span',[_vm._v(_vm._s(_vm.message.content))])],1):_c('div',{staticClass:\"file-message\"},[_c('div',{staticClass:\"svg-button icon-file\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1),_c('span',[_vm._v(_vm._s(_vm.message.content))])]),_c('div',{staticClass:\"text-timestamp\"},[(_vm.message.edited && !_vm.message.deleted)?_c('div',{staticClass:\"icon-edited\"},[_c('svg-icon',{attrs:{\"name\":\"pencil\"}})],1):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.message.timestamp))]),(_vm.isMessageSeen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"slide-left\"}},[(_vm.isMessageActions)?_c('div',{ref:\"actionIcon\",staticClass:\"svg-button message-options\",on:{\"click\":_vm.openOptions}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\"}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-image\"}},[(_vm.isMessageReactions)?_c('emoji-picker',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeEmoji),expression:\"closeEmoji\"}],staticClass:\"message-reactions\",attrs:{\"emojiOpened\":_vm.emojiOpened,\"emojiReaction\":true,\"roomFooterRef\":_vm.roomFooterRef,\"positionRight\":_vm.message.sender_id === _vm.currentUserId},on:{\"addEmoji\":_vm.sendMessageReaction,\"openEmoji\":_vm.openEmoji}}):_vm._e()],1),(_vm.filteredMessageActions.length)?_c('transition',{attrs:{\"name\":_vm.message.sender_id === _vm.currentUserId ? 'slide-left' : 'slide-right'}},[(_vm.optionsOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeOptions),expression:\"closeOptions\"}],ref:\"menuOptions\",staticClass:\"menu-options\",class:{ 'menu-left': _vm.message.sender_id !== _vm.currentUserId },style:({ top: (_vm.menuOptionsHeight + \"px\") })},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.filteredMessageActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.messageActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1),(!_vm.message.deleted)?_c('transition-group',{attrs:{\"name\":\"slide-left\"}},_vm._l((_vm.message.reactions),function(reaction,key){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(reaction.length),expression:\"reaction.length\"}],key:key + 0,staticClass:\"button-reaction\",class:{\n\t\t\t\t\t\t'reaction-me': reaction.indexOf(_vm.currentUserId) !== -1\n\t\t\t\t\t},style:({\n\t\t\t\t\t\tfloat: _vm.message.sender_id === _vm.currentUserId ? 'right' : 'left'\n\t\t\t\t\t}),on:{\"click\":function($event){return _vm.sendMessageReaction({ name: key }, reaction)}}},[_vm._v(\" \"+_vm._s(_vm.getEmojiByName(key))),_c('span',[_vm._v(_vm._s(reaction.length))])])}),0):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('emoji-picker',{attrs:{\"search\":_vm.search},on:{\"emoji\":_vm.append},scopedSlots:_vm._u([{key:\"emoji-invoker\",fn:function(ref){\nvar clickEvent = ref.events.click;\nreturn _c('div',{staticClass:\"svg-button\",class:{ 'button-reaction': _vm.emojiReaction },on:{\"click\":[function($event){$event.stopPropagation();return clickEvent($event)},_vm.openEmoji]}},[_c('svg-icon',{attrs:{\"name\":\"emoji\",\"param\":_vm.emojiReaction ? 'reaction' : ''}})],1)}},{key:\"emoji-picker\",fn:function(ref){\nvar emojis = ref.emojis;\nvar insert = ref.insert;\nreturn (_vm.emojiOpened)?_c('div',{},[_c('div',{staticClass:\"emoji-picker\",class:{ 'picker-reaction': _vm.emojiReaction },style:({\n\t\t\t\t\ttop: (_vm.emojiPickerHeight + \"px\"),\n\t\t\t\t\tright: _vm.positionRight ? '85px' : '',\n\t\t\t\t\tdisplay: _vm.emojiPickerHeight || !_vm.emojiReaction ? 'initial' : 'none'\n\t\t\t\t})},[_c('div',{staticClass:\"emoji-picker__search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"},{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('div',_vm._l((emojis),function(emojiGroup,category){return _c('div',{key:category},[(category !== 'Frequently used')?_c('h5',[_vm._v(_vm._s(category))]):_vm._e(),(category !== 'Frequently used')?_c('div',{staticClass:\"emojis\"},_vm._l((emojiGroup),function(emoji,emojiName){return _c('span',{key:emojiName,attrs:{\"title\":emojiName},on:{\"click\":function($event){return insert({ emoji: emoji, emojiName: emojiName })}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0):_vm._e()])}),0)])]):_vm._e()}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"wrapper\">\n\t\t<emoji-picker @emoji=\"append\" :search=\"search\">\n\t\t\t<div\n\t\t\t\tclass=\"svg-button\"\n\t\t\t\t:class=\"{ 'button-reaction': emojiReaction }\"\n\t\t\t\tslot=\"emoji-invoker\"\n\t\t\t\tslot-scope=\"{ events: { click: clickEvent } }\"\n\t\t\t\t@click.stop=\"clickEvent\"\n\t\t\t\t@click=\"openEmoji\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"emoji\" :param=\"emojiReaction ? 'reaction' : ''\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tslot=\"emoji-picker\"\n\t\t\t\tslot-scope=\"{ emojis, insert }\"\n\t\t\t\tv-if=\"emojiOpened\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"emoji-picker\"\n\t\t\t\t\t:class=\"{ 'picker-reaction': emojiReaction }\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\ttop: `${emojiPickerHeight}px`,\n\t\t\t\t\t\tright: positionRight ? '85px' : '',\n\t\t\t\t\t\tdisplay: emojiPickerHeight || !emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"emoji-picker__search\">\n\t\t\t\t\t\t<input type=\"text\" v-model=\"search\" v-focus />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div v-for=\"(emojiGroup, category) in emojis\" :key=\"category\">\n\t\t\t\t\t\t\t<h5 v-if=\"category !== 'Frequently used'\">{{ category }}</h5>\n\t\t\t\t\t\t\t<div class=\"emojis\" v-if=\"category !== 'Frequently used'\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-for=\"(emoji, emojiName) in emojiGroup\"\n\t\t\t\t\t\t\t\t\t:key=\"emojiName\"\n\t\t\t\t\t\t\t\t\t@click=\"insert({ emoji, emojiName })\"\n\t\t\t\t\t\t\t\t\t:title=\"emojiName\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ emoji }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</emoji-picker>\n\t</div>\n</template>\n\n<script>\nimport EmojiPicker from 'vue-emoji-picker'\nimport SvgIcon from './SvgIcon'\n\nexport default {\n\tcomponents: {\n\t\tEmojiPicker,\n\t\tSvgIcon\n\t},\n\tprops: ['emojiOpened', 'emojiReaction', 'roomFooterRef', 'positionRight'],\n\tdata() {\n\t\treturn {\n\t\t\tsearch: '',\n\t\t\temojiPickerHeight: ''\n\t\t}\n\t},\n\tmethods: {\n\t\tappend({ emoji, emojiName }) {\n\t\t\tthis.$emit('addEmoji', { icon: emoji, name: emojiName })\n\t\t},\n\t\topenEmoji(ev) {\n\t\t\tthis.$emit('openEmoji', true)\n\t\t\tthis.setEmojiPickerHeight(ev.clientY)\n\t\t},\n\t\tsetEmojiPickerHeight(clientY) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.roomFooterRef) return\n\n\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\t\t\t\tconst pickerTopPosition = roomFooterTop - clientY > 320\n\n\t\t\t\tif (pickerTopPosition) this.emojiPickerHeight = clientY\n\t\t\t\telse this.emojiPickerHeight = clientY - 320\n\t\t\t}, 0)\n\t\t}\n\t},\n\tdirectives: {\n\t\tfocus: {\n\t\t\tinserted(el) {\n\t\t\t\tel.focus()\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n\tposition: relative;\n\tdisplay: flex;\n}\n\n.regular-input {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: 3px;\n\tborder: var(--chat-border-style);\n\twidth: 20rem;\n\theight: 12rem;\n\toutline: none;\n}\n\n.emoji-picker {\n\tposition: absolute;\n\tz-index: 9999;\n\tbottom: 32px;\n\tright: 10px;\n\tborder: var(--chat-border-style);\n\twidth: 15rem;\n\theight: 20rem;\n\toverflow: scroll;\n\tpadding: 1rem;\n\tbox-sizing: border-box;\n\tborder-radius: 0.5rem;\n\tbackground: var(--chat-emoji-bg-color);\n}\n\n.picker-reaction {\n\tposition: fixed;\n\ttop: initial;\n\tright: initial;\n}\n\n.emoji-picker__search {\n\tdisplay: flex;\n}\n\n.emoji-picker__search > input {\n\tflex: 1;\n\tborder-radius: 10rem;\n\tborder: var(--chat-border-style);\n\tpadding: 0.5rem 1rem;\n\toutline: none;\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n}\n\n.emoji-picker h5 {\n\tmargin-bottom: 0;\n\tcolor: #b1b1b1;\n\ttext-transform: uppercase;\n\tfont-size: 0.8rem;\n\tcursor: default;\n}\n\n.emoji-picker .emojis {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n}\n\n.emoji-picker .emojis:after {\n\tcontent: '';\n\tflex: auto;\n}\n\n.emoji-picker .emojis span {\n\tpadding: 0.2rem;\n\tcursor: pointer;\n\tborder-radius: 5px;\n}\n\n.emoji-picker .emojis span:hover {\n\tbackground: var(--chat-sidemenu-bg-color-hover);\n\tcursor: pointer;\n}\n\n.button-reaction svg {\n\theight: 19px;\n\twidth: 19px;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=70075026&scoped=true&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiPicker.vue?vue&type=style&index=0&id=70075026&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70075026\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"card-date\" v-if=\"showDate\">\n\t\t\t{{ message.date }}\n\t\t</div>\n\n\t\t<div class=\"line-new\" v-if=\"newMessage._id === message._id\">\n\t\t\t{{ textMessages.NEW_MESSAGES }}\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"message-box\"\n\t\t\t:class=\"{ 'offset-current': message.sender_id === currentUserId }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"message-container\"\n\t\t\t\t@mouseover=\"onHoverMessage(message)\"\n\t\t\t\t@mouseleave=\"onLeaveMessage\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref=\"imageRef\"\n\t\t\t\t\tclass=\"message-card\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'message-highlight': isMessageHover(message),\n\t\t\t\t\t\t'message-current': message.sender_id === currentUserId,\n\t\t\t\t\t\t'message-deleted': message.deleted\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"roomUsers.length > 2 && message.sender_id !== currentUserId\"\n\t\t\t\t\t\tclass=\"text-username\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'username-reply': !message.deleted && message.replyMessage\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{{ message.username }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!message.deleted && message.replyMessage\"\n\t\t\t\t\t\tclass=\"reply-message\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"reply-username\">{{ replyUsername }}</div>\n\n\t\t\t\t\t\t<div class=\"image-reply-container\" v-if=\"isImageReply\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"message-image message-image-reply\"\n\t\t\t\t\t\t\t\t:style=\"{ background: `url(${message.replyMessage.file.url})` }\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"reply-content\">{{ message.replyMessage.content }}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"message.deleted\">\n\t\t\t\t\t\t<span>{{ textMessages.MESSAGE_DELETED }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else-if=\"!message.file\">\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"image-container\" v-else-if=\"isImage\">\n\t\t\t\t\t\t<chat-loader\n\t\t\t\t\t\t\t:style=\"{ top: `${imageResponsive.loaderTop}px` }\"\n\t\t\t\t\t\t\t:show=\"isImageLoading\"\n\t\t\t\t\t\t></chat-loader>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"message-image\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'image-loading':\n\t\t\t\t\t\t\t\t\tisImageLoading && message.sender_id === currentUserId\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\tbackground: `url(${message.file.url})`,\n\t\t\t\t\t\t\t\t'max-height': `${imageResponsive.maxHeight}px`\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<transition name=\"fade-image\">\n\t\t\t\t\t\t\t\t<div class=\"image-buttons\" v-if=\"imageHover && !isImageLoading\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-view\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"eye\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-download\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else class=\"file-message\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"svg-button icon-file\"\n\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"text-timestamp\">\n\t\t\t\t\t\t<div class=\"icon-edited\" v-if=\"message.edited && !message.deleted\">\n\t\t\t\t\t\t\t<svg-icon name=\"pencil\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.timestamp }}</span>\n\t\t\t\t\t\t<span v-if=\"isMessageSeen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<transition name=\"slide-left\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref=\"actionIcon\"\n\t\t\t\t\t\t\tclass=\"svg-button message-options\"\n\t\t\t\t\t\t\tv-if=\"isMessageActions\"\n\t\t\t\t\t\t\t@click=\"openOptions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg-icon name=\"dropdown\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\n\t\t\t\t\t<transition name=\"fade-image\">\n\t\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\t\tclass=\"message-reactions\"\n\t\t\t\t\t\t\tv-if=\"isMessageReactions\"\n\t\t\t\t\t\t\tv-click-outside=\"closeEmoji\"\n\t\t\t\t\t\t\t:emojiOpened=\"emojiOpened\"\n\t\t\t\t\t\t\t:emojiReaction=\"true\"\n\t\t\t\t\t\t\t:roomFooterRef=\"roomFooterRef\"\n\t\t\t\t\t\t\t:positionRight=\"message.sender_id === currentUserId\"\n\t\t\t\t\t\t\t@addEmoji=\"sendMessageReaction\"\n\t\t\t\t\t\t\t@openEmoji=\"openEmoji\"\n\t\t\t\t\t\t></emoji-picker>\n\t\t\t\t\t</transition>\n\n\t\t\t\t\t<transition\n\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\tmessage.sender_id === currentUserId ? 'slide-left' : 'slide-right'\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-if=\"filteredMessageActions.length\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref=\"menuOptions\"\n\t\t\t\t\t\t\tv-if=\"optionsOpened\"\n\t\t\t\t\t\t\tv-click-outside=\"closeOptions\"\n\t\t\t\t\t\t\tclass=\"menu-options\"\n\t\t\t\t\t\t\t:class=\"{ 'menu-left': message.sender_id !== currentUserId }\"\n\t\t\t\t\t\t\t:style=\"{ top: `${menuOptionsHeight}px` }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-for=\"action in filteredMessageActions\"\n\t\t\t\t\t\t\t\t\t:key=\"action.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"messageActionHandler(action)\">\n\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\n\t\t\t\t<transition-group name=\"slide-left\" v-if=\"!message.deleted\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-for=\"(reaction, key) in message.reactions\"\n\t\t\t\t\t\tv-show=\"reaction.length\"\n\t\t\t\t\t\t:key=\"key + 0\"\n\t\t\t\t\t\tclass=\"button-reaction\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'reaction-me': reaction.indexOf(currentUserId) !== -1\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\tfloat: message.sender_id === currentUserId ? 'right' : 'left'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@click=\"sendMessageReaction({ name: key }, reaction)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ getEmojiByName(key) }}<span>{{ reaction.length }}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</transition-group>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from './SvgIcon'\nimport vClickOutside from 'v-click-outside'\nimport ChatLoader from './ChatLoader'\nimport EmojiPicker from './EmojiPicker'\n\nexport default {\n\tname: 'chat-message',\n\tcomponents: { SvgIcon, ChatLoader, EmojiPicker },\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: String, required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tindex: { type: Number, required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\teditedMessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, default: () => [] },\n\t\tmessageActions: { type: Array, required: true },\n\t\troomFooterRef: { type: HTMLDivElement },\n\t\tnewMessages: { type: Array },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\temojisList: { type: Object, required: true },\n\t\thideOptions: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thoverMessageId: null,\n\t\t\timageLoading: false,\n\t\t\timageHover: false,\n\t\t\tmessageHover: false,\n\t\t\toptionsOpened: false,\n\t\t\tmenuOptionsHeight: 0,\n\t\t\tmessageReaction: '',\n\t\t\tnewMessage: {},\n\t\t\temojiOpened: false,\n\t\t\timageResponsive: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessage: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.checkImgLoad()\n\t\t\t}\n\t\t},\n\t\tnewMessages(val) {\n\t\t\tif (!val.length) return\n\t\t\tthis.newMessage = val.reduce((res, obj) =>\n\t\t\t\tobj.index < res.index ? obj : res\n\t\t\t)\n\t\t},\n\t\temojiOpened(val) {\n\t\t\tif (val) this.optionsOpened = false\n\t\t},\n\t\thideOptions(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.closeEmoji()\n\t\t\t\tthis.closeOptions()\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted() {\n\t\tif (!this.message.seen && this.message.sender_id !== this.currentUserId) {\n\t\t\tthis.$emit('addNewMessage', {\n\t\t\t\t_id: this.message._id,\n\t\t\t\tindex: this.index\n\t\t\t})\n\t\t}\n\t\tthis.imageResponsive = {\n\t\t\tmaxHeight: this.$refs.imageRef.clientWidth - 18,\n\t\t\tloaderTop: this.$refs.imageRef.clientWidth / 2\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowDate() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.date !== this.messages[this.index - 1].date\n\t\t\t)\n\t\t},\n\t\tisImage() {\n\t\t\treturn this.checkImageFile()\n\t\t},\n\t\tisImageReply() {\n\t\t\treturn this.checkImageReplyFile()\n\t\t},\n\t\tisImageLoading() {\n\t\t\treturn (\n\t\t\t\tthis.message.file.url.indexOf('blob:http') !== -1 || this.imageLoading\n\t\t\t)\n\t\t},\n\t\tisEditable() {\n\t\t\treturn this.canEditMessage()\n\t\t},\n\t\tisMessageSeen() {\n\t\t\treturn (\n\t\t\t\tthis.message.sender_id === this.currentUserId &&\n\t\t\t\tthis.message.seen &&\n\t\t\t\t!this.message.deleted\n\t\t\t)\n\t\t},\n\t\treplyUsername() {\n\t\t\tconst { sender_id } = this.message.replyMessage\n\t\t\tconst replyUser = this.roomUsers.find(user => user._id === sender_id)\n\t\t\treturn replyUser ? replyUser.username : ''\n\t\t},\n\t\tisMessageActions() {\n\t\t\treturn (\n\t\t\t\tthis.filteredMessageActions.length &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted\n\t\t\t)\n\t\t},\n\t\tisMessageReactions() {\n\t\t\treturn (\n\t\t\t\tthis.showReactionEmojis && this.messageHover && !this.message.deleted\n\t\t\t)\n\t\t},\n\t\tfilteredMessageActions() {\n\t\t\treturn this.message.sender_id === this.currentUserId\n\t\t\t\t? this.messageActions\n\t\t\t\t: this.messageActions.filter(message => !message.onlyMe)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tisMessageHover() {\n\t\t\treturn (\n\t\t\t\tthis.editedMessage._id === this.message._id ||\n\t\t\t\tthis.hoverMessageId === this.message._id\n\t\t\t)\n\t\t},\n\t\tonHoverMessage() {\n\t\t\tthis.imageHover = true\n\t\t\tthis.messageHover = true\n\t\t\tif (this.canEditMessage()) this.hoverMessageId = this.message._id\n\t\t},\n\t\tcanEditMessage() {\n\t\t\treturn (\n\t\t\t\tthis.message.sender_id === this.currentUserId && !this.message.deleted\n\t\t\t)\n\t\t},\n\t\tonLeaveMessage() {\n\t\t\tthis.imageHover = false\n\t\t\tif (!this.optionsOpened && !this.emojiOpened) this.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\t\t},\n\t\topenFile() {\n\t\t\tthis.$emit('openFile', this.message)\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.closeOptions()\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('messageActionHandler', { action, message: this.message })\n\t\t\t}, 300)\n\t\t},\n\t\tcheckImageFile() {\n\t\t\treturn this.checkImageType(this.message.file)\n\t\t},\n\t\tcheckImageReplyFile() {\n\t\t\treturn this.checkImageType(this.message.replyMessage.file)\n\t\t},\n\t\tcheckImageType(file) {\n\t\t\tif (!file) return\n\t\t\tconst imageTypes = ['png', 'jpg']\n\t\t\tconst { type } = file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\tcheckImgLoad() {\n\t\t\tif (!this.checkImageFile()) return\n\t\t\tthis.imageLoading = true\n\t\t\tconst image = new Image()\n\t\t\timage.src = this.message.file.url\n\t\t\timage.addEventListener('load', () => (this.imageLoading = false))\n\t\t},\n\t\topenOptions() {\n\t\t\tthis.optionsOpened = !this.optionsOpened\n\n\t\t\tif (!this.optionsOpened) return\n\n\t\t\tthis.$emit('hideOptions', false)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.roomFooterRef || !this.$refs.menuOptions || !this.actionIcon)\n\t\t\t\t\treturn\n\n\t\t\t\tconst menuOptionsHeight = this.$refs.menuOptions.getBoundingClientRect()\n\t\t\t\t\t.height\n\n\t\t\t\tconst actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top\n\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\n\t\t\t\tconst optionsTopPosition =\n\t\t\t\t\troomFooterTop - actionIconTop > menuOptionsHeight + 50\n\n\t\t\t\tif (optionsTopPosition) this.menuOptionsHeight = 28\n\t\t\t\telse this.menuOptionsHeight = -menuOptionsHeight\n\t\t\t}, 0)\n\t\t},\n\t\tcloseOptions() {\n\t\t\tthis.optionsOpened = false\n\t\t\tif (this.hoverMessageId !== this.message._id) this.messageHover = false\n\t\t},\n\t\topenEmoji(ev) {\n\t\t\tthis.emojiOpened = ev\n\t\t\tthis.$emit('hideOptions', false)\n\t\t},\n\t\tcloseEmoji() {\n\t\t\tthis.emojiOpened = false\n\t\t\tif (this.hoverMessageId !== this.message._id) this.messageHover = false\n\t\t},\n\t\tgetEmojiByName(emojiName) {\n\t\t\treturn this.emojisList[emojiName]\n\t\t},\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('sendMessageReaction', {\n\t\t\t\tmessageId: this.message._id,\n\t\t\t\treaction: emoji,\n\t\t\t\tremove: reaction && reaction.indexOf(this.currentUserId) !== -1\n\t\t\t})\n\t\t\tthis.closeEmoji()\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-date {\n\tborder-radius: 4px;\n\tmax-width: 150px;\n\ttext-align: center;\n\tmargin: 10px auto;\n\tfont-size: 12px;\n\ttext-transform: uppercase;\n\tpadding: 4px;\n\tcolor: var(--chat-message-color-date);\n\tbackground: var(--chat-message-bg-color-date);\n\tdisplay: block;\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n}\n\n.line-new {\n\tcolor: var(--chat-message-color-new-messages);\n\tposition: relative;\n\ttext-align: center;\n\tfont-size: 13px;\n}\n\n.line-new:after,\n.line-new:before {\n\tborder-top: 1px solid var(--chat-message-color-new-messages);\n\tcontent: '';\n\tleft: 0;\n\tposition: absolute;\n\ttop: 50%;\n\twidth: calc(50% - 60px);\n}\n\n.line-new:before {\n\tleft: auto;\n\tright: 0;\n}\n\n.message-box {\n\tdisplay: flex;\n\tflex: 0 0 50%;\n\tmax-width: 50%;\n\tjustify-content: flex-start;\n\tline-height: 1.4;\n}\n\n.message-container {\n\tposition: relative;\n\tpadding: 3px 10px;\n\talign-items: end;\n\tmin-width: 100px;\n}\n\n.offset-current {\n\tmargin-left: 50%;\n\tjustify-content: flex-end;\n}\n\n.message-card {\n\tbackground: var(--chat-message-bg-color);\n\tcolor: var(--chat-message-color);\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tpadding: 6px 9px 3px;\n\twhite-space: pre-wrap;\n\tdisplay: block;\n\tmax-width: 100%;\n\t-webkit-transition-property: box-shadow, opacity;\n\ttransition-property: box-shadow, opacity;\n\toverflow-wrap: break-word;\n\t-webkit-transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n\ttransition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n\twill-change: box-shadow;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n}\n\n.message-highlight {\n\tbox-shadow: 0px 2px 2px -2px rgba(0, 0, 0, 0.2),\n\t\t0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 4px 0px rgba(0, 0, 0, 0.12);\n}\n\n.message-current {\n\tbackground: var(--chat-message-bg-color-me) !important;\n}\n\n.message-deleted {\n\tcolor: var(--chat-message-color-deleted) !important;\n\tfont-size: 13px !important;\n\tfont-style: italic !important;\n\tbackground: var(--chat-message-bg-color-deleted) !important;\n}\n\n.image-container {\n\twidth: 250px;\n\tmax-width: 100%;\n}\n\n.image-reply-container {\n\twidth: 70px;\n}\n\n.message-image {\n\tposition: relative;\n\tbackground-color: var(--chat-message-bg-color-image) !important;\n\tbackground-size: cover !important;\n\tbackground-position: center center !important;\n\tbackground-repeat: no-repeat !important;\n\theight: 250px;\n\twidth: 250px;\n\tmax-width: 100%;\n\tborder-radius: 4px;\n\tmargin: 4px auto 5px;\n\ttransition: 0.4s filter linear;\n}\n\n.message-image-reply {\n\theight: 70px;\n\twidth: 70px;\n\tmargin: 4px auto 3px;\n}\n\n.image-loading {\n\tfilter: blur(3px);\n}\n\n.reply-message {\n\tbackground: var(--chat-message-bg-color-reply);\n\tborder-radius: 4px;\n\tmargin: -1px -5px 8px;\n\tpadding: 8px 10px;\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n}\n\n.text-username {\n\tfont-size: 13px;\n\tcolor: var(--chat-message-color-username);\n\tmargin-bottom: 2px;\n}\n\n.username-reply {\n\tmargin-bottom: 5px;\n}\n\n.text-timestamp {\n\tfont-size: 10px;\n\tcolor: var(--chat-message-color-timestamp);\n\ttext-align: right;\n}\n\n.file-message {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tmargin-top: 3px;\n\n\t.icon-file svg {\n\t\tmargin-right: 5px;\n\t}\n}\n\n.icon-edited {\n\t-webkit-box-align: center;\n\talign-items: center;\n\tdisplay: -webkit-inline-box;\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\tletter-spacing: normal;\n\tline-height: 1;\n\ttext-indent: 0;\n\tvertical-align: middle;\n\tmargin: 0 4px 2px;\n\n\tsvg {\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n}\n\n.image-buttons {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 4px;\n\tbackground: linear-gradient(\n\t\tto bottom,\n\t\trgba(0, 0, 0, 0) 55%,\n\t\trgba(0, 0, 0, 0.02) 60%,\n\t\trgba(0, 0, 0, 0.05) 65%,\n\t\trgba(0, 0, 0, 0.1) 70%,\n\t\trgba(0, 0, 0, 0.2) 75%,\n\t\trgba(0, 0, 0, 0.3) 80%,\n\t\trgba(0, 0, 0, 0.5) 85%,\n\t\trgba(0, 0, 0, 0.6) 90%,\n\t\trgba(0, 0, 0, 0.7) 95%,\n\t\trgba(0, 0, 0, 0.8) 100%\n\t);\n\n\tsvg {\n\t\theight: 26px;\n\t\twidth: 26px;\n\t}\n\n\t.button-view,\n\t.button-download {\n\t\tposition: absolute;\n\t\tbottom: 6px;\n\t\tleft: 7px;\n\t}\n\n\t:first-child {\n\t\tleft: 40px;\n\t}\n\n\t.button-view {\n\t\tmax-width: 18px;\n\t\tbottom: 8px;\n\t}\n}\n\n.message-options {\n\tbackground: rgba(0, 0, 0, 0.25);\n\tborder-radius: 50%;\n\tposition: absolute;\n\ttop: 7px;\n\tright: 14px;\n\n\tsvg {\n\t\theight: 17px;\n\t\twidth: 17px;\n\t}\n}\n\n.message-reactions {\n\tz-index: 9999;\n\tposition: absolute;\n\ttop: 6px;\n\tright: 37px;\n}\n\n.menu-options {\n\tright: 15px;\n}\n\n.menu-left {\n\tright: -118px;\n}\n\n.icon-check {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -3px -3px 0 3px;\n}\n\n.button-reaction {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tborder: var(--chat-message-border-style-reaction);\n\toutline: none;\n\tbackground: var(--chat-message-bg-color-reaction);\n\tborder-radius: 4px;\n\tmargin: 4px 2px 0;\n\ttransition: 0.3s;\n\tpadding: 0 5px;\n\tfont-size: 18px;\n\tline-height: 23px;\n\n\tspan {\n\t\tfont-size: 11px;\n\t\tfont-weight: 500;\n\t\tmin-width: 7px;\n\t\tcolor: var(--chat-message-color-reaction-counter);\n\t}\n\n\t&:hover {\n\t\tborder: var(--chat-message-border-style-reaction-hover);\n\t\tbackground: var(--chat-message-bg-color-reaction-hover);\n\t\tcursor: pointer;\n\t}\n}\n\n.reaction-me {\n\tborder: var(--chat-message-border-style-reaction-me);\n\tbackground: var(--chat-message-bg-color-reaction-me);\n\n\tspan {\n\t\tcolor: var(--chat-message-color-reaction-counter-me);\n\t}\n\n\t&:hover {\n\t\tborder: var(--chat-message-border-style-reaction-hover-me);\n\t\tbackground: var(--chat-message-bg-color-reaction-hover-me);\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMessage.vue?vue&type=template&id=5ac86e76&scoped=true&\"\nimport script from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMessage.vue?vue&type=style&index=0&id=5ac86e76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ac86e76\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\tclass=\"col-messages\"\n\t\t:class=\"{ 'col-messages-full': !showRoomsList }\"\n\t\tv-if=\"(isMobile && !showRoomsList) || !isMobile\"\n\t>\n\t\t<div class=\"room-header app-border-b\">\n\t\t\t<div\n\t\t\t\tclass=\"svg-button toggle-button\"\n\t\t\t\t:class=\"{ 'rotate-icon': !showRoomsList && !isMobile }\"\n\t\t\t\t@click=\"$emit('toggleRoomsList')\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"toggle\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t:style=\"{ background: `url(${room.avatar})` }\"\n\t\t\t></div>\n\t\t\t<div class=\"room-name\">{{ room.roomName }}</div>\n\t\t\t<div\n\t\t\t\tclass=\"svg-button room-options\"\n\t\t\t\tv-if=\"menuActions.length\"\n\t\t\t\t@click=\"menuOpened = !menuOpened\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"menu\" />\n\t\t\t</div>\n\t\t\t<transition name=\"slide-left\" v-if=\"menuActions.length\">\n\t\t\t\t<div v-if=\"menuOpened\" v-click-outside=\"closeMenu\" class=\"menu-options\">\n\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t<div v-for=\"action in menuActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"menuActionHandler(action)\">\n\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div class=\"container-scroll\">\n\t\t\t<div class=\"messages-container\">\n\t\t\t\t<chat-loader :show=\"loadingMessages\"></chat-loader>\n\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t<div class=\"text-started\" v-if=\"showNoMessages\">\n\t\t\t\t\t\t{{ textMessages.MESSAGES_EMPTY }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-started\" v-if=\"showMessagesStarted\">\n\t\t\t\t\t\t{{ textMessages.CONVERSATION_STARTED }} {{ messages[0].date }}\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t<infinite-loading\n\t\t\t\t\t\tv-if=\"messages.length\"\n\t\t\t\t\t\tspinner=\"spiral\"\n\t\t\t\t\t\tdirection=\"top\"\n\t\t\t\t\t\t@infinite=\"loadMoreMessages\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div slot=\"no-results\"></div>\n\t\t\t\t\t\t<div slot=\"no-more\"></div>\n\t\t\t\t\t</infinite-loading>\n\t\t\t\t</transition>\n\t\t\t\t<transition-group name=\"fade-message\">\n\t\t\t\t\t<div v-for=\"(message, i) in messages\" :key=\"message._id\">\n\t\t\t\t\t\t<chat-message\n\t\t\t\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t\t:messages=\"messages\"\n\t\t\t\t\t\t\t:editedMessage=\"editedMessage\"\n\t\t\t\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t\t\t\t:roomUsers=\"room.users\"\n\t\t\t\t\t\t\t:textMessages=\"textMessages\"\n\t\t\t\t\t\t\t:roomFooterRef=\"$refs.roomFooter\"\n\t\t\t\t\t\t\t:newMessages=\"newMessages\"\n\t\t\t\t\t\t\t:showReactionEmojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t:emojisList=\"emojisList\"\n\t\t\t\t\t\t\t:hideOptions=\"hideOptions\"\n\t\t\t\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t\t\t\t@addNewMessage=\"addNewMessage\"\n\t\t\t\t\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t\t\t\t\t\t@hideOptions=\"hideOptions = $event\"\n\t\t\t\t\t\t></chat-message>\n\t\t\t\t\t</div>\n\t\t\t\t</transition-group>\n\t\t\t</div>\n\t\t\t<transition name=\"bounce\">\n\t\t\t\t<div class=\"icon-scroll\" v-if=\"scrollIcon\" @click=\"scrollToBottom\">\n\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"scroll\" />\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div ref=\"roomFooter\" class=\"room-footer\">\n\t\t\t<transition name=\"slide-up\">\n\t\t\t\t<div v-if=\"messageReply\" class=\"reply-container\">\n\t\t\t\t\t<div class=\"reply-box\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-if=\"isImageCheck(messageReply.file)\"\n\t\t\t\t\t\t\t:src=\"messageReply.file.url\"\n\t\t\t\t\t\t\tclass=\"image-reply\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"reply-info\">\n\t\t\t\t\t\t\t<div class=\"reply-username\">{{ messageReply.username }}</div>\n\t\t\t\t\t\t\t<div class=\"reply-content\">{{ messageReply.content }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"icon-reply\">\n\t\t\t\t\t\t<div class=\"svg-button\" @click=\"resetMessage\">\n\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\t\t\t<div class=\"box-footer\">\n\t\t\t\t<div class=\"image-container\" v-if=\"imageFile\">\n\t\t\t\t\t<div class=\"svg-button icon-image\" @click=\"resetImageFile\">\n\t\t\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"image-file\">\n\t\t\t\t\t\t<img ref=\"imageFile\" :src=\"imageFile\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"file-container\" v-else-if=\"file\">\n\t\t\t\t\t<div class=\"icon-file\">\n\t\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{{ message }}</div>\n\t\t\t\t\t<div class=\"svg-button icon-remove\" @click=\"resetMessage\">\n\t\t\t\t\t\t<svg-icon name=\"close\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tv-show=\"!file || imageFile\"\n\t\t\t\t\tref=\"roomTextarea\"\n\t\t\t\t\t:placeholder=\"textMessages.TYPE_MESSAGE\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'textarea-outline': editedMessage._id,\n\t\t\t\t\t\t'textarea-image': imageFile\n\t\t\t\t\t}\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\theight: `${imageDimensions.height}px`,\n\t\t\t\t\t\t'min-height': `${imageDimensions.height - 14}px`,\n\t\t\t\t\t\t'padding-left': `${imageDimensions.width + 6}px`\n\t\t\t\t\t}\"\n\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\t@input=\"autoGrow\"\n\t\t\t\t\t@keydown.esc=\"resetMessage\"\n\t\t\t\t\t@keydown.enter.exact.prevent=\"sendMessage\"\n\t\t\t\t></textarea>\n\n\t\t\t\t<div class=\"icon-textarea\">\n\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\tv-if=\"showEmojis && (!file || imageFile)\"\n\t\t\t\t\t\t:emojiOpened=\"emojiOpened\"\n\t\t\t\t\t\t@addEmoji=\"addEmoji\"\n\t\t\t\t\t\t@openEmoji=\"emojiOpened = $event\"\n\t\t\t\t\t></emoji-picker>\n\n\t\t\t\t\t<div v-if=\"showFiles\" class=\"svg-button\" @click=\"launchFilePicker\">\n\t\t\t\t\t\t<svg-icon name=\"paperclip\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tref=\"file\"\n\t\t\t\t\t\t@change=\"onFileChange($event.target.files)\"\n\t\t\t\t\t\tstyle=\"display:none\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\tv-if=\"editedMessage._id\"\n\t\t\t\t\t\t@click=\"resetMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t@click=\"sendMessage\"\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\t:class=\"{ 'send-disabled': inputDisabled }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"send\" :param=\"inputDisabled ? 'disabled' : ''\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\nimport vClickOutside from 'v-click-outside'\nimport ChatLoader from './ChatLoader'\nimport ChatMessage from './ChatMessage'\nimport SvgIcon from './SvgIcon'\nimport EmojiPicker from './EmojiPicker'\nimport emojis from 'vue-emoji-picker/src/emojis'\n\nexport default {\n\tname: 'messages-list',\n\tcomponents: {\n\t\tInfiniteLoading,\n\t\tChatLoader,\n\t\tChatMessage,\n\t\tSvgIcon,\n\t\tEmojiPicker\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: String, required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\tmessagesLoaded: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\tshowReactionEmojis: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\teditedMessage: {},\n\t\t\tmessageReply: null,\n\t\t\tinfiniteState: null,\n\t\t\tloadingMessages: false,\n\t\t\tfile: null,\n\t\t\timageFile: null,\n\t\t\timageDimensions: { height: '32px', width: '10px' },\n\t\t\tmenuOpened: false,\n\t\t\temojiOpened: false,\n\t\t\temojisList: {},\n\t\t\thideOptions: true,\n\t\t\tscrollIcon: false,\n\t\t\tnewMessages: []\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.newMessages = []\n\n\t\twindow.addEventListener('keypress', e => {\n\t\t\tif (e.keyCode === 13 && !e.shiftKey) this.sendMessage()\n\t\t})\n\n\t\tdocument\n\t\t\t.getElementsByClassName('container-scroll')[0]\n\t\t\t.addEventListener('scroll', e => {\n\t\t\t\tthis.hideOptions = true\n\t\t\t\tthis.scrollIcon =\n\t\t\t\t\te.target.scrollHeight > 500 &&\n\t\t\t\t\te.target.scrollHeight - e.target.scrollTop > 1000\n\t\t\t})\n\n\t\tconst emojisTable = Object.keys(emojis).map(key => emojis[key])\n\t\tthis.emojisList = Object.assign({}, ...emojisTable)\n\t},\n\n\twatch: {\n\t\tloadingMessages(val) {\n\t\t\tif (val) this.infiniteState = null\n\t\t\telse this.focusTextarea()\n\t\t},\n\t\troom() {\n\t\t\tthis.loadingMessages = true\n\t\t\tthis.resetMessage()\n\t\t},\n\t\tmessages(newVal, oldVal) {\n\t\t\tconst element = document.getElementsByClassName('container-scroll')[0]\n\t\t\tif (!element) return\n\n\t\t\tconst options = { top: element.scrollHeight }\n\n\t\t\tif (oldVal && newVal && oldVal.length === newVal.length - 1) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\toptions.behavior = 'smooth'\n\t\t\t\t\telement.scrollTo(options)\n\t\t\t\t}, 0)\n\t\t\t}\n\n\t\t\tif (this.infiniteState) {\n\t\t\t\tthis.infiniteState.loaded()\n\t\t\t} else if (newVal.length) {\n\t\t\t\tthis.loadingMessages = false\n\t\t\t\tsetTimeout(() => element.scrollTo(options), 0)\n\t\t\t}\n\t\t},\n\t\tmessagesLoaded(val) {\n\t\t\tif (val) this.loadingMessages = false\n\t\t\tif (this.infiniteState) this.infiniteState.complete()\n\t\t},\n\t\timageFile() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.$refs.imageFile)\n\t\t\t\t\treturn (this.imageDimensions = { height: 32, width: 10 })\n\n\t\t\t\tthis.imageDimensions = {\n\t\t\t\t\theight: this.$refs.imageFile.height + 2,\n\t\t\t\t\twidth: this.$refs.imageFile.width + 20\n\t\t\t\t}\n\t\t\t}, 20)\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowNoMessages() {\n\t\t\treturn this.room.roomId && !this.messages.length && !this.loadingMessages\n\t\t},\n\t\tshowMessagesStarted() {\n\t\t\treturn this.messages.length && this.messagesLoaded\n\t\t},\n\t\tinputDisabled() {\n\t\t\treturn this.isMessageEmpty()\n\t\t}\n\t},\n\n\tmethods: {\n\t\taddNewMessage(message) {\n\t\t\tthis.newMessages.push(message)\n\t\t},\n\t\tresetMessage() {\n\t\t\tthis.resetTextareaSize()\n\t\t\tthis.message = ''\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = null\n\t\t\tthis.file = null\n\t\t\tthis.imageFile = null\n\t\t\tthis.emojiOpened = false\n\t\t\tsetTimeout(() => this.focusTextarea(), 0)\n\t\t},\n\t\tresetImageFile() {\n\t\t\tthis.imageFile = null\n\t\t\tthis.editedMessage.file = null\n\t\t\tthis.file = null\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tresetTextareaSize() {\n\t\t\tif (!this.$refs['roomTextarea']) return\n\t\t\tthis.$refs['roomTextarea'].style.height = '32px'\n\t\t},\n\t\tfocusTextarea() {\n\t\t\tif (this.isMobile) return\n\t\t\tthis.$refs['roomTextarea'].focus()\n\t\t},\n\t\tisMessageEmpty() {\n\t\t\treturn !this.file && !this.message.trim()\n\t\t},\n\t\tsendMessage() {\n\t\t\tif (!this.file && !this.message.trim()) return\n\n\t\t\tif (this.editedMessage._id) {\n\t\t\t\tif (this.editedMessage.content !== this.message || this.file) {\n\t\t\t\t\tthis.$emit('editMessage', {\n\t\t\t\t\t\tmessageId: this.editedMessage._id,\n\t\t\t\t\t\tnewContent: this.message.trim(),\n\t\t\t\t\t\tfile: this.file,\n\t\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$emit('sendMessage', {\n\t\t\t\t\tcontent: this.message.trim(),\n\t\t\t\t\tfile: this.file,\n\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.resetMessage()\n\t\t},\n\t\tloadMoreMessages(infiniteState) {\n\t\t\tif (this.messagesLoaded || !this.room.roomId) {\n\t\t\t\treturn infiniteState.complete()\n\t\t\t}\n\t\t\tthis.infiniteState = infiniteState\n\t\t\tthis.$emit('fetchMessages')\n\t\t},\n\t\tmessageActionHandler({ action, message }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'replyMessage':\n\t\t\t\t\treturn this.replyMessage(message)\n\t\t\t\tcase 'editMessage':\n\t\t\t\t\treturn this.editMessage(message)\n\t\t\t\tcase 'deleteMessage':\n\t\t\t\t\treturn this.$emit('deleteMessage', message._id)\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.$emit('messageActionHandler', message)\n\t\t\t}\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('sendMessageReaction', messageReaction)\n\t\t},\n\t\treplyMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.messageReply = message\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.editedMessage = { ...message }\n\t\t\tthis.file = message.file\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = message.file.url\n\t\t\tthis.message = message.content\n\n\t\t\tsetTimeout(() => this.resizeTextarea(this.$refs['roomTextarea']), 0)\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tconst element = document.getElementsByClassName('container-scroll')[0]\n\t\t\telement.scrollTo({ top: element.scrollHeight, behavior: 'smooth' })\n\t\t},\n\t\tautoGrow(el) {\n\t\t\tthis.resizeTextarea(el.srcElement)\n\t\t},\n\t\tresizeTextarea(textarea) {\n\t\t\ttextarea.style.height = 0\n\t\t\tconst offset = this.imageFile ? 2 : 0\n\t\t\ttextarea.style.height = textarea.scrollHeight + offset + 'px'\n\t\t},\n\t\taddEmoji(emoji) {\n\t\t\tthis.message += emoji.icon\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tlaunchFilePicker() {\n\t\t\tthis.$refs.file.value = ''\n\t\t\tthis.$refs.file.click()\n\t\t},\n\t\tasync onFileChange(files) {\n\t\t\tthis.resetImageFile()\n\t\t\tconst file = files[0]\n\t\t\tconst fileURL = URL.createObjectURL(file)\n\t\t\tconst blobFile = await fetch(fileURL).then(res => res.blob())\n\n\t\t\tthis.file = {\n\t\t\t\tblob: blobFile,\n\t\t\t\tname: file.name.split('.')[0],\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.name.split('.')[1] || file.type,\n\t\t\t\tlocalUrl: fileURL\n\t\t\t}\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = fileURL\n\t\t\telse this.message = file.name\n\t\t},\n\t\tisImageCheck(file) {\n\t\t\tif (!file) return\n\t\t\tconst imageTypes = ['png', 'jpg']\n\t\t\tconst { type } = file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(action) {\n\t\t\tthis.closeMenu()\n\t\t\tthis.$emit('menuActionHandler', action)\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.menuOpened = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.col-messages {\n\tflex: 0 0 75%;\n\tmax-width: 75%;\n\tposition: relative;\n\theight: 100%;\n}\n\n.col-messages-full {\n\tflex: 0 0 100%;\n\tmax-width: 100%;\n}\n\n.room-header {\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1 1 100%;\n\tpadding: 0 16px;\n\tposition: relative;\n\theight: 64px;\n\tmargin-right: 1px;\n\tbackground: var(--chat-header-bg-color);\n\tborder-top-right-radius: 4px;\n}\n\n.toggle-button {\n\tmargin-right: 15px;\n\n\tsvg {\n\t\theight: 26px;\n\t\twidth: 26px;\n\t}\n}\n\n.rotate-icon {\n\ttransform: rotate(180deg) !important;\n}\n\n.room-name {\n\tfont-size: 17px;\n}\n\n.room-options {\n\tmargin-left: auto;\n}\n\n.container-scroll {\n\tbackground: var(--chat-content-bg-color);\n\theight: calc(100% - 110px);\n\toverflow-y: auto;\n\tmargin-right: 1px;\n}\n\n.messages-container {\n\tpadding: 0 5px 20px;\n}\n\n.text-started {\n\tfont-size: 14px;\n\tcolor: #9ca6af;\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin-top: 27px;\n\tmargin-bottom: 20px;\n}\n\n.icon-scroll {\n\tposition: absolute;\n\tbottom: 80px;\n\tright: 20px;\n\tpadding: 8px;\n\tbackground: var(--chat-bg-scroll-icon);\n\tborder-radius: 50%;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n\tdisplay: flex;\n\tcursor: pointer;\n\n\tsvg {\n\t\theight: 25px;\n\t\twidth: 25px;\n\t}\n}\n\n.room-footer {\n\tposition: absolute;\n\tbottom: 0;\n\twidth: calc(100% - 1px);\n\tborder-bottom-right-radius: 4px;\n}\n\n.box-footer {\n\tdisplay: flex;\n\tbackground: var(--chat-footer-bg-color);\n\tpadding: 0 8px 10px;\n}\n\n.reply-container {\n\tdisplay: flex;\n\tpadding: 10px 10px 10px;\n\tbackground: var(--chat-content-bg-color);\n\talign-items: center;\n\tmax-width: 100%;\n\n\t.reply-box {\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\tbackground: var(--chat-footer-bg-color-reply);\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 10px;\n\t\tdisplay: flex;\n\t}\n\n\t.reply-info {\n\t\toverflow: hidden;\n\t}\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n\n\t.icon-reply {\n\t\tmargin-left: 10px;\n\t}\n\n\t.image-reply {\n\t\tmax-height: 100px;\n\t\tmargin-right: 10px;\n\t}\n}\n\ntextarea {\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tborder-radius: 20px;\n\tpadding: 12px 140px 0 16px;\n\toverflow: hidden;\n\toutline: 0;\n\twidth: 100%;\n\tresize: none;\n\theight: 32px;\n\tcaret-color: var(--chat-color-caret);\n\tborder: var(--chat-border-style-input);\n\tfont-size: 16px;\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t}\n}\n\n.textarea-outline {\n\tborder: 2px solid var(--chat-border-color-input-selected);\n}\n\n.textarea-image {\n\tpadding-left: 200px;\n}\n\n.icon-textarea {\n\tposition: absolute;\n\tright: 20px;\n\tdisplay: flex;\n\tmargin: 12px 0 0 5px;\n\n\tsvg,\n\t.wrapper {\n\t\tmargin: 0 7px;\n\t}\n}\n\n.image-container {\n\tposition: absolute;\n\tmax-width: 20%;\n\tleft: 16px;\n\tbottom: 18px;\n}\n\n.image-file {\n\tdisplay: flex;\n\n\timg {\n\t\tborder-radius: 15px;\n\t\twidth: 100%;\n\t\tmax-width: 150px;\n\t\tmax-height: 100%;\n\t}\n}\n\n.icon-image {\n\tposition: absolute;\n\ttop: 8px;\n\tleft: 8px;\n\n\tsvg {\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tborder-radius: 50%;\n\t\tbox-shadow: 0 1px 3px -1px rgba(0, 0, 0, 0.2),\n\t\t\t0 1px 3px 1px rgba(0, 0, 0, 0.12), 0 1px 3px 1px rgba(0, 0, 0, 0.1);\n\t}\n}\n\n.file-container {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\theight: 44px;\n\tbackground: var(--chat-bg-color-input);\n\tborder: var(--chat-border-style-input);\n\tborder-radius: 20px;\n}\n\n.icon-file {\n\tdisplay: flex;\n\tmargin: 0 8px 0 15px;\n}\n\n.icon-remove {\n\tmargin-left: 8px;\n\n\tsvg {\n\t\theight: 18px;\n\t\twidth: 18px;\n\t}\n}\n\n.send-disabled,\n.send-disabled svg {\n\tcursor: none !important;\n\tpointer-events: none !important;\n\ttransform: none !important;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessagesList.vue?vue&type=template&id=25b21c98&scoped=true&\"\nimport script from \"./MessagesList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessagesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessagesList.vue?vue&type=style&index=0&id=25b21c98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25b21c98\",\n  null\n  \n)\n\nexport default component.exports","export default {\n\tNEW_MESSAGES: 'New Messages',\n\tMESSAGE_DELETED: 'This message was deleted',\n\tMESSAGES_EMPTY: 'No messages',\n\tCONVERSATION_STARTED: 'Conversation started on:',\n\tTYPE_MESSAGE: 'Type message',\n\tSEARCH: 'Search'\n}\n","export const defaultThemeColors = {\n\tlight: {\n\t\tgeneral: {\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundInput: '#fff',\n\t\t\tcolorPlaceholder: '#9ca6af',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#333',\n\t\t\tborderStyle: '1px solid #e1e4e8',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: 'none',\n\t\t\tborderStyleInput: '1px solid #e1e4e8',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#f8f9fa'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6',\n\t\t\tbackgroundActive: '#e5effa',\n\t\t\tcolorActive: '#1976d2',\n\t\t\tborderColorSearch: '#e1e5e8'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundMe: '#ccf2cf',\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundDeleted: '#dadfe2',\n\t\t\tcolorDeleted: '#757e85',\n\t\t\tcolorUsername: '#9ca6af',\n\t\t\tcolorTimestamp: '#828c94',\n\t\t\tbackgroundDate: '#e5effa',\n\t\t\tcolorDate: '#505a62',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)',\n\t\t\tcolorReplyUsername: '#0a0a0a',\n\t\t\tcolorReply: '#6e6e6e',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#1976d2',\n\t\t\tbackgroundReaction: '#eee',\n\t\t\tborderStyleReaction: '1px solid #eee',\n\t\t\tbackgroundReactionHover: '#fff',\n\t\t\tborderStyleReactionHover: '1px solid #ddd',\n\t\t\tcolorReactionCounter: '#0a0a0a',\n\t\t\tbackgroundReactionMe: '#cfecf5',\n\t\t\tborderStyleReactionMe: '1px solid #3b98b8',\n\t\t\tbackgroundReactionHoverMe: '#cfecf5',\n\t\t\tborderStyleReactionHoverMe: '1px solid #3b98b8',\n\t\t\tcolorReactionCounterMe: '#0b59b3'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#0a0a0a',\n\t\t\tcolorMessage: '#67717a',\n\t\t\tcolorTimestamp: '#a2aeb8',\n\t\t\tcolorNewDot: '#1976d2'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#9ca6af',\n\t\t\tadd: '#1976d2',\n\t\t\ttoggle: '#0a0a0a',\n\t\t\tmenu: '#0a0a0a',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#1976d2',\n\t\t\tcloseOutline: '#000',\n\t\t\tsend: '#1976d2',\n\t\t\tsendDisabled: '#9ca6af',\n\t\t\temoji: '#1976d2',\n\t\t\temojiReaction: '#828c94',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#9e9e9e',\n\t\t\tcheckmark: '#0696c7',\n\t\t\teye: '#fff',\n\t\t\tdropdown: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t},\n\tdark: {\n\t\tgeneral: {\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundInput: '#202223',\n\t\t\tcolorPlaceholder: '#596269',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#fff',\n\t\t\tborderStyle: 'none',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#181a1b'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: 'none',\n\t\t\tborderStyleInput: 'none',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#1b1c1c'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#131415'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#181a1b',\n\t\t\tbackgroundHover: '#202224',\n\t\t\tbackgroundActive: '#151617',\n\t\t\tcolorActive: '#fff',\n\t\t\tborderColorSearch: '#181a1b'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#2a2c33',\n\t\t\tbackgroundHover: '#26282e'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#22242a',\n\t\t\tbackgroundMe: '#4fb381',\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundDeleted: '#1b1c21',\n\t\t\tcolorDeleted: '#a2a5a8',\n\t\t\tcolorUsername: '#b3bac9',\n\t\t\tcolorTimestamp: '#ebedf2',\n\t\t\tbackgroundDate: 'rgba(0, 0, 0, 0.1)',\n\t\t\tcolorDate: '#9ca6af',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.18)',\n\t\t\tcolorReplyUsername: '#fff',\n\t\t\tcolorReply: '#d6d6d6',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#fff',\n\t\t\tbackgroundReaction: 'none',\n\t\t\tborderStyleReaction: 'none',\n\t\t\tbackgroundReactionHover: '#202223',\n\t\t\tborderStyleReactionHover: 'none',\n\t\t\tcolorReactionCounter: '#fff',\n\t\t\tbackgroundReactionMe: '#4e9ad1',\n\t\t\tborderStyleReactionMe: 'none',\n\t\t\tbackgroundReactionHoverMe: '#4e9ad1',\n\t\t\tborderStyleReactionHoverMe: 'none',\n\t\t\tcolorReactionCounterMe: '#fff'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#fff',\n\t\t\tcolorMessage: '#6c7278',\n\t\t\tcolorTimestamp: '#6c7278',\n\t\t\tcolorNewDot: '#1976d2'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#343740'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#596269',\n\t\t\tadd: '#fff',\n\t\t\ttoggle: '#fff',\n\t\t\tmenu: '#fff',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#fff',\n\t\t\tcloseOutline: '#fff',\n\t\t\tsend: '#fff',\n\t\t\tsendDisabled: '#646a70',\n\t\t\temoji: '#fff',\n\t\t\temojiReaction: '#ebedf2',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#ebedf2',\n\t\t\tcheckmark: '#f0d90a',\n\t\t\teye: '#fff',\n\t\t\tdropdown: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t}\n}\n\nexport const cssThemeVars = ({\n\tgeneral,\n\theader,\n\tfooter,\n\tsidemenu,\n\tcontent,\n\tdropdown,\n\tmessage,\n\troom,\n\temoji,\n\ticons\n}) => {\n\treturn {\n\t\t// general\n\t\t'--chat-color': general.color,\n\t\t'--chat-bg-color-input': general.backgroundInput,\n\t\t'--chat-color-spinner': general.colorSpinner,\n\t\t'--chat-color-placeholder': general.colorPlaceholder,\n\t\t'--chat-color-caret': general.colorCaret,\n\t\t'--chat-border-style': general.borderStyle,\n\t\t'--chat-bg-scroll-icon': general.backgroundScrollIcon,\n\n\t\t// header\n\t\t'--chat-header-bg-color': header.background,\n\n\t\t// footer\n\t\t'--chat-footer-bg-color': footer.background,\n\t\t'--chat-border-style-input': footer.borderStyleInput,\n\t\t'--chat-border-color-input-selected': footer.borderInputSelected,\n\t\t'--chat-footer-bg-color-reply': footer.backgroundReply,\n\n\t\t// content\n\t\t'--chat-content-bg-color': content.background,\n\n\t\t// sidemenu\n\t\t'--chat-sidemenu-bg-color': sidemenu.background,\n\t\t'--chat-sidemenu-bg-color-hover': sidemenu.backgroundHover,\n\t\t'--chat-sidemenu-bg-color-active': sidemenu.backgroundActive,\n\t\t'--chat-sidemenu-color-active': sidemenu.colorActive,\n\t\t'--chat-sidemenu-border-color-search': sidemenu.borderColorSearch,\n\n\t\t// dropdown\n\t\t'--chat-dropdown-bg-color': dropdown.background,\n\t\t'--chat-dropdown-bg-color-hover': dropdown.backgroundHover,\n\n\t\t// message\n\t\t'--chat-message-bg-color': message.background,\n\t\t'--chat-message-bg-color-me': message.backgroundMe,\n\t\t'--chat-message-bg-color-deleted': message.backgroundDeleted,\n\t\t'--chat-message-color-deleted': message.colorDeleted,\n\t\t'--chat-message-color-username': message.colorUsername,\n\t\t'--chat-message-color-timestamp': message.colorTimestamp,\n\t\t'--chat-message-bg-color-date': message.backgroundDate,\n\t\t'--chat-message-color-date': message.colorDate,\n\t\t'--chat-message-color': message.color,\n\t\t'--chat-message-bg-color-reply': message.backgroundReply,\n\t\t'--chat-message-color-reply-username': message.colorReplyUsername,\n\t\t'--chat-message-color-reply-content': message.colorReply,\n\t\t'--chat-message-bg-color-image': message.backgroundImage,\n\t\t'--chat-message-color-new-messages': message.colorNewMessages,\n\t\t'--chat-message-bg-color-reaction': message.backgroundReaction,\n\t\t'--chat-message-border-style-reaction': message.borderStyleReaction,\n\t\t'--chat-message-bg-color-reaction-hover': message.backgroundReactionHover,\n\t\t'--chat-message-border-style-reaction-hover':\n\t\t\tmessage.borderStyleReactionHover,\n\t\t'--chat-message-color-reaction-counter': message.colorReactionCounter,\n\t\t'--chat-message-bg-color-reaction-me': message.backgroundReactionMe,\n\t\t'--chat-message-border-style-reaction-me': message.borderStyleReactionMe,\n\t\t'--chat-message-bg-color-reaction-hover-me':\n\t\t\tmessage.backgroundReactionHoverMe,\n\t\t'--chat-message-border-style-reaction-hover-me':\n\t\t\tmessage.borderStyleReactionHoverMe,\n\t\t'--chat-message-color-reaction-counter-me': message.colorReactionCounterMe,\n\n\t\t// room\n\t\t'--chat-room-color-username': room.colorUsername,\n\t\t'--chat-room-color-message': room.colorMessage,\n\t\t'--chat-room-color-timestamp': room.colorTimestamp,\n\t\t'--chat-room-color-new-dot': room.colorNewDot,\n\n\t\t// emoji\n\t\t'--chat-emoji-bg-color': emoji.background,\n\n\t\t// icons\n\t\t'--chat-icon-color-search': icons.search,\n\t\t'--chat-icon-color-add': icons.add,\n\t\t'--chat-icon-color-toggle': icons.toggle,\n\t\t'--chat-icon-color-menu': icons.menu,\n\t\t'--chat-icon-color-close': icons.close,\n\t\t'--chat-icon-color-close-image': icons.closeImage,\n\t\t'--chat-icon-color-file': icons.file,\n\t\t'--chat-icon-color-paperclip': icons.paperclip,\n\t\t'--chat-icon-color-close-outline': icons.closeOutline,\n\t\t'--chat-icon-color-send': icons.send,\n\t\t'--chat-icon-color-send-disabled': icons.sendDisabled,\n\t\t'--chat-icon-color-emoji': icons.emoji,\n\t\t'--chat-icon-color-emoji-reaction': icons.emojiReaction,\n\t\t'--chat-icon-color-document': icons.document,\n\t\t'--chat-icon-color-pencil': icons.pencil,\n\t\t'--chat-icon-color-checkmark': icons.checkmark,\n\t\t'--chat-icon-color-eye': icons.eye,\n\t\t'--chat-icon-color-dropdown': icons.dropdown,\n\t\t'--chat-icon-color-dropdown-scroll': icons.dropdownScroll\n\t}\n}\n","<template>\n\t<div class=\"card-window\" :style=\"[{ height }, cssVars]\">\n\t\t<div class=\"chat-container\">\n\t\t\t<rooms-list\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t:showRoomsList=\"showRoomsList\"\n\t\t\t\t:isMobile=\"isMobile\"\n\t\t\t\t@fetchRoom=\"fetchRoom\"\n\t\t\t\t@addRoom=\"addRoom\"\n\t\t\t>\n\t\t\t</rooms-list>\n\t\t\t<messages-list\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t\t:menuActions=\"menuActions\"\n\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t:showFiles=\"showFiles\"\n\t\t\t\t:showEmojis=\"showEmojis\"\n\t\t\t\t:showReactionEmojis=\"showReactionEmojis\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t:showRoomsList=\"showRoomsList\"\n\t\t\t\t:isMobile=\"isMobile\"\n\t\t\t\t@toggleRoomsList=\"toggleRoomsList\"\n\t\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t\t@editMessage=\"editMessage\"\n\t\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t\t>\n\t\t\t</messages-list>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport RoomsList from './RoomsList'\nimport MessagesList from './MessagesList'\nconst { roomsValid, partcipantsValid } = require('../utils/roomValidation')\nimport locales from '../locales'\nimport { defaultThemeColors, cssThemeVars } from '../themes'\n\nexport default {\n\tname: 'chat-container',\n\tcomponents: {\n\t\tRoomsList,\n\t\tMessagesList\n\t},\n\n\tprops: {\n\t\theight: { type: String, default: '600px' },\n\t\ttheme: { type: String, default: 'light' },\n\t\tcolors: { type: Object, default: null },\n\t\ttextMessages: { type: Object, default: null },\n\t\tcurrentUserId: { type: String, required: true },\n\t\trooms: { type: Array, default: () => [] },\n\t\tloadingRooms: { type: Boolean, default: false },\n\t\tmessages: { type: Array, default: () => [] },\n\t\tmessagesLoaded: { type: Boolean, default: false },\n\t\tmenuActions: { type: Array, default: () => [] },\n\t\tmessageActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [\n\t\t\t\t{ name: 'replyMessage', title: 'Reply' },\n\t\t\t\t{ name: 'editMessage', title: 'Edit Message', onlyMe: true },\n\t\t\t\t{ name: 'deleteMessage', title: 'Delete Message', onlyMe: true }\n\t\t\t]\n\t\t},\n\t\tshowFiles: { type: Boolean, default: true },\n\t\tshowEmojis: { type: Boolean, default: true },\n\t\tshowReactionEmojis: { type: Boolean, default: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\troom: {},\n\t\t\tshowRoomsList: true,\n\t\t\tmobileBreakpoint: 700,\n\t\t\tisMobile: false\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(val) {\n\t\t\tif (val[0]) this.fetchRoom({ room: val[0] })\n\t\t},\n\n\t\troom(val) {\n\t\t\tif (!val) return\n\n\t\t\tif (Object.entries(val).length === 0) return\n\n\t\t\tif (!roomsValid(val))\n\t\t\t\tthrow 'Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]'\n\n\t\t\tval.users.forEach(user => {\n\t\t\t\tif (!partcipantsValid(user))\n\t\t\t\t\tthrow 'Participants object is not valid! Must contain _id[String, Number] and username[String]'\n\t\t\t})\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.updateResponsive()\n\t\twindow.addEventListener('resize', () => this.updateResponsive())\n\t},\n\n\tcomputed: {\n\t\tt() {\n\t\t\treturn {\n\t\t\t\t...locales,\n\t\t\t\t...this.textMessages\n\t\t\t}\n\t\t},\n\t\tcssVars() {\n\t\t\tconst themeColors = {\n\t\t\t\t...defaultThemeColors[this.theme],\n\t\t\t\t...this.colors\n\t\t\t}\n\n\t\t\treturn cssThemeVars(themeColors)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tupdateResponsive() {\n\t\t\tthis.isMobile = window.innerWidth < this.mobileBreakpoint\n\t\t\tthis.showRoomsList = !this.isMobile\n\t\t},\n\t\ttoggleRoomsList() {\n\t\t\tthis.showRoomsList = !this.showRoomsList\n\t\t\tif (this.isMobile) this.room = {}\n\t\t},\n\t\tfetchRoom({ room }) {\n\t\t\tthis.room = room\n\t\t\tthis.fetchMessages({ reset: true })\n\t\t\tif (this.isMobile) this.showRoomsList = false\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t},\n\t\tfetchMessages(options) {\n\t\t\tthis.$emit('fetchMessages', { room: this.room, options })\n\t\t},\n\t\tsendMessage(message) {\n\t\t\tthis.$emit('sendMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.$emit('editMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\tdeleteMessage(messageId) {\n\t\t\tthis.$emit('deleteMessage', { messageId, roomId: this.room.roomId })\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(ev) {\n\t\t\tthis.$emit('menuActionHandler', { action: ev, roomId: this.room.roomId })\n\t\t},\n\t\tmessageActionHandler(ev) {\n\t\t\tthis.$emit('messageActionHandler', {\n\t\t\t\taction: ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('sendMessageReaction', {\n\t\t\t\t...messageReaction,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../styles/index.scss';\n\n* {\n\tfont-family: inherit;\n}\n\n.card-window {\n\twidth: 100%;\n\tborder-radius: 4px;\n\tdisplay: block;\n\tmax-width: 100%;\n\tbackground: var(--chat-content-bg-color);\n\tcolor: var(--chat-color);\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tbox-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n\t\t0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n}\n\n.chat-container {\n\theight: 100%;\n\tdisplay: flex;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=05e69dc8&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ChatWindow from './ChatWindow'\n\nObject.defineProperty(ChatWindow, 'install', {\n\tconfigurable: false,\n\tenumerable: false,\n\tvalue(Vue) {\n\t\tVue.component('chat-window', ChatWindow)\n\t}\n})\n\nexport default ChatWindow\n","<template>\n\t<div class=\"window-container\">\n\t\t<div class=\"chat-forms\">\n\t\t\t<form @submit.prevent=\"createRoom\" v-if=\"addNewRoom\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add username to create a room\"\n\t\t\t\t\tv-model=\"addRoomUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\t\tCreate Room\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"addRoomUser\" v-if=\"inviteRoomId\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add user to the room\"\n\t\t\t\t\tv-model=\"invitedUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\t\tAdd User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"deleteRoomUser\" v-if=\"removeRoomId\">\n\t\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t\t<option default value=\"\">Select User</option>\n\t\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</option>\n\t\t\t\t</select>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\t\tRemove User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\n\t\t<chat-window\n\t\t\theight=\"calc(100vh - 80px)\"\n\t\t\t:theme=\"theme\"\n\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t:rooms=\"rooms\"\n\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t:messages=\"messages\"\n\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t:menuActions=\"menuActions\"\n\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t@editMessage=\"editMessage\"\n\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t@openFile=\"openFile\"\n\t\t\t@addRoom=\"addRoom\"\n\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport {\n\troomsRef,\n\tusersRef,\n\tfilesRef,\n\tdeleteDbField,\n\tfirebase\n} from '@/firestore'\nimport { parseTimestamp, isSameDay } from '@/utils/dates'\nimport ChatWindow from './../../src/ChatWindow'\n// import ChatWindow from 'vue-advanced-chat'\n// import 'vue-advanced-chat/dist/vue-advanced-chat.css'\n\nexport default {\n\tcomponents: {\n\t\tChatWindow\n\t},\n\n\tprops: ['currentUserId', 'theme'],\n\n\tdata() {\n\t\treturn {\n\t\t\tperPage: 20,\n\t\t\trooms: [],\n\t\t\tloadingRooms: true,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\tstart: null,\n\t\t\tend: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\tmenuActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t]\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.fetchRooms()\n\t},\n\n\tdestroyed() {\n\t\tthis.resetRooms()\n\t},\n\n\tmethods: {\n\t\tmessagesRef(roomId) {\n\t\t\treturn roomsRef.doc(roomId).collection('messages')\n\t\t},\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.start = null\n\t\t\tthis.end = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\t\t},\n\n\t\tasync fetchRooms() {\n\t\t\tthis.resetRooms()\n\n\t\t\tconst rooms = await roomsRef\n\t\t\t\t.where('users', 'array-contains', this.currentUserId)\n\t\t\t\t.get()\n\n\t\t\tconst rawRoomUsers = []\n\t\t\tconst rawMessages = []\n\n\t\t\trooms.forEach(room => {\n\t\t\t\tconst rawUsers = []\n\n\t\t\t\troom.data().users.map(userId => {\n\t\t\t\t\tconst promise = usersRef\n\t\t\t\t\t\t.doc(userId)\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then(user => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...user.data(),\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\troomId: room.id,\n\t\t\t\t\t\t\t\t\tusername: user.data().username\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\trawUsers.push(promise)\n\t\t\t\t})\n\n\t\t\t\trawUsers.map(users => rawRoomUsers.push(users))\n\t\t\t\trawMessages.push(this.getLastMessage(room))\n\t\t\t})\n\n\t\t\tlet roomList = []\n\n\t\t\tconst users = await Promise.all(rawRoomUsers)\n\n\t\t\tusers.map(user => {\n\t\t\t\tif (roomList[user.roomId]) roomList[user.roomId].users.push(user)\n\t\t\t\telse roomList[user.roomId] = { users: [user] }\n\t\t\t})\n\n\t\t\tconst roomMessages = await Promise.all(rawMessages).then(messages => {\n\t\t\t\treturn messages.map(message => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlastMessage: this.formatLastMessage(message),\n\t\t\t\t\t\troomId: message.roomId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\troomMessages.map(ms => (roomList[ms.roomId].lastMessage = ms.lastMessage))\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: require('@/assets/logo.svg')\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...{\n\t\t\t\t\t\troomId: key,\n\t\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\t\t...room\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\t\t\tthis.loadingRooms = false\n\t\t\tthis.rooms.map((room, index) => this.listenLastMessage(room, index))\n\t\t},\n\n\t\tgetLastMessage(room) {\n\t\t\treturn this.messagesRef(room.id)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.get()\n\t\t\t\t.then(messages => {\n\t\t\t\t\tconst array = []\n\t\t\t\t\tmessages.forEach(m => array.push(m.data()))\n\t\t\t\t\treturn { ...array[0], roomId: room.id }\n\t\t\t\t})\n\t\t},\n\n\t\tlistenLastMessage(room, index) {\n\t\t\tconst listener = this.messagesRef(room.roomId)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.onSnapshot(messages => {\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message.data())\n\t\t\t\t\t\tthis.rooms[index].lastMessage = lastMessage\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message) {\n\t\t\tif (!message.timestamp) return\n\t\t\tconst date = new Date(message.timestamp.seconds * 1000)\n\t\t\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\n\t\t\tlet timestamp = parseTimestamp(message.timestamp, timestampFormat)\n\t\t\tif (timestampFormat === 'HH:mm') timestamp = 'Today, ' + timestamp\n\n\t\t\tlet content = message.content\n\t\t\tif (message.file) content = `${message.file.name}.${message.file.type}`\n\t\t\tif (message.deleted) content = 'This message was deleted'\n\n\t\t\treturn {\n\t\t\t\tcontent,\n\t\t\t\ttimestamp,\n\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\tnew:\n\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t}\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tif (options.reset) this.resetMessages()\n\n\t\t\tif (this.end && !this.start) return (this.messagesLoaded = true)\n\n\t\t\tlet ref = this.messagesRef(room.roomId)\n\n\t\t\tlet query = ref.orderBy('timestamp', 'desc').limit(this.perPage)\n\n\t\t\tif (this.start) query = query.startAfter(this.start)\n\n\t\t\tquery.get().then(messages => {\n\t\t\t\tif (messages.empty) this.messagesLoaded = true\n\n\t\t\t\tif (this.start) this.end = this.start\n\t\t\t\tthis.start = messages.docs[messages.docs.length - 1]\n\n\t\t\t\tlet listenerQuery = ref.orderBy('timestamp')\n\n\t\t\t\tif (this.start) listenerQuery = listenerQuery.startAfter(this.start)\n\t\t\t\tif (this.end) listenerQuery = listenerQuery.endAt(this.end)\n\n\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t})\n\n\t\t\t\tconst listener = listenerQuery.onSnapshot(snapshots => {\n\t\t\t\t\tthis.listenMessages(snapshots, room)\n\t\t\t\t})\n\t\t\t\tthis.listeners.push(listener)\n\t\t\t})\n\t\t},\n\n\t\tlistenMessages(messages, room) {\n\t\t\tmessages.forEach(message => {\n\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\tconst messageIndex = this.messages.findIndex(m => m._id === message.id)\n\n\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.messages, messageIndex, formattedMessage)\n\t\t\t\t}\n\n\t\t\t\tthis.markMessagesSeen(room, message)\n\t\t\t})\n\t\t},\n\n\t\tmarkMessagesSeen(room, message) {\n\t\t\tif (\n\t\t\t\tmessage.data().sender_id !== this.currentUserId &&\n\t\t\t\t(!message.data().seen || !message.data().seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tthis.messagesRef(room.roomId)\n\t\t\t\t\t.doc(message.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\tconst senderUser = room.users.find(\n\t\t\t\tuser => message.data().sender_id === user._id\n\t\t\t)\n\n\t\t\tconst { sender_id, timestamp } = message.data()\n\n\t\t\treturn {\n\t\t\t\t...message.data(),\n\t\t\t\t...{\n\t\t\t\t\tsender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: senderUser ? senderUser.username : null\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, file, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (file) {\n\t\t\t\tmessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.localUrl\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id: replyMessage.sender_id\n\t\t\t\t}\n\n\t\t\t\tif (replyMessage.file) {\n\t\t\t\t\tmessage.replyMessage.file = replyMessage.file\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await this.messagesRef(roomId).add(message)\n\n\t\t\tif (file) this.uploadFile({ file, messageId: id, roomId })\n\t\t},\n\n\t\topenFile(message) {\n\t\t\twindow.open(message.file.url, '_blank')\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, file }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (file) {\n\t\t\t\tnewMessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewMessage.file = deleteDbField\n\t\t\t}\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update(newMessage)\n\t\t},\n\n\t\tasync deleteMessage({ messageId, roomId }) {\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({ deleted: new Date() })\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\tconst uploadFileRef = filesRef\n\t\t\t\t.child(this.currentUserId)\n\t\t\t\t.child(messageId)\n\t\t\t\t.child(`${file.name}.${file.type}`)\n\n\t\t\tawait uploadFileRef.put(file.blob, { contentType: file.type })\n\t\t\tconst url = await uploadFileRef.getDownloadURL()\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t['file.url']: url\n\t\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tmessageActionHandler() {\n\t\t\t// do something\n\t\t},\n\n\t\tasync sendMessageReaction({ reaction, remove, messageId, roomId }) {\n\t\t\tconst dbAction = remove\n\t\t\t\t? firebase.firestore.FieldValue.arrayRemove(this.currentUserId)\n\t\t\t\t: firebase.firestore.FieldValue.arrayUnion(this.currentUserId)\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t[`reactions.${reaction.name}`]: dbAction\n\t\t\t\t})\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.addRoomUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\t\t\tawait roomsRef.add({ users: [id, this.currentUserId] })\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.invitedUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\n\t\t\tawait roomsRef\n\t\t\t\t.doc(this.inviteRoomId)\n\t\t\t\t.update({ users: firebase.firestore.FieldValue.arrayUnion(id) })\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait roomsRef.doc(this.removeRoomId).update({\n\t\t\t\tusers: firebase.firestore.FieldValue.arrayRemove(this.removeUserId)\n\t\t\t})\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst ref = this.messagesRef(roomId)\n\n\t\t\tref.get().then(res => {\n\t\t\t\tif (res.empty) return\n\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t})\n\n\t\t\tawait roomsRef.doc(roomId).delete()\n\n\t\t\tconst i = this.rooms.map(room => room.roomId).indexOf(roomId)\n\t\t\tif (i !== -1) this.rooms.splice(i, 1)\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.chat-forms {\n\tpadding-bottom: 20px;\n\n\tform {\n\t\tpadding-top: 20px;\n\t}\n\n\tinput {\n\t\tpadding: 5px;\n\t\twidth: 180px;\n\t\theight: 21px;\n\t\tborder-radius: 4px;\n\t\tborder: 1px solid #d2d6da;\n\t\toutline: none;\n\t\tfont-size: 14px;\n\t\tvertical-align: middle;\n\n\t\t&::placeholder {\n\t\t\tcolor: #9ca6af;\n\t\t}\n\t}\n\n\tbutton {\n\t\tbackground: #1976d2;\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t&:disabled {\n\t\t\tcursor: initial;\n\t\t\tbackground: #c6c9cc;\n\t\t\topacity: 0.6;\n\t\t}\n\t}\n\n\t.button-cancel {\n\t\tcolor: #a8aeb3;\n\t\tbackground: none;\n\t\tmargin-left: 5px;\n\t}\n\n\tselect {\n\t\tvertical-align: middle;\n\t\theight: 33px;\n\t\twidth: 120px;\n\t\tfont-size: 13px;\n\t}\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContainer.vue?vue&type=template&id=18f2505d&scoped=true&\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatContainer.vue?vue&type=style&index=0&id=18f2505d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18f2505d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"app-container\">\n\t\t\t<!-- <div>\n\t\t\t\t<button @click=\"resetData\">Clear Data</button>\n\t\t\t\t<button @click=\"addData\" :disabled=\"updatingData\">Add Data</button>\n\t\t\t</div> -->\n\t\t\t<span class=\"user-logged\">Logged as</span>\n\t\t\t<select v-model=\"currentUserId\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div class=\"button-theme\">\n\t\t\t\t<button @click=\"theme = 'light'\" class=\"button-light\">Light</button>\n\t\t\t\t<button @click=\"theme = 'dark'\" class=\"button-dark\">Dark</button>\n\t\t\t</div>\n\n\t\t\t<chat-container\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:theme=\"theme\"\n\t\t\t\tv-if=\"showChat\"\n\t\t\t/>\n\n\t\t\t<!-- <div class=\"version-container\">\n\t\t\t\tv1.0.0\n\t\t\t</div> -->\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { roomsRef, usersRef } from '@/firestore'\nimport ChatContainer from './ChatContainer'\n\nexport default {\n\tcomponents: {\n\t\tChatContainer\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'light',\n\t\t\tshowChat: true,\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t\t\tusername: 'Luke',\n\t\t\t\t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t\t\tusername: 'Leia',\n\t\t\t\t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t\t\tusername: 'Yoda',\n\t\t\t\t\tavatar:\n\t\t\t\t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentUserId: '6R0MijpK6M4AIrwaaCY2',\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\n\twatch: {\n\t\tcurrentUserId() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tresetData() {\n\t\t\troomsRef.get().then(val => {\n\t\t\t\tval.forEach(async val => {\n\t\t\t\t\tconst ref = roomsRef.doc(val.id).collection('messages')\n\n\t\t\t\t\tawait ref.get().then(res => {\n\t\t\t\t\t\tif (res.empty) return\n\t\t\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t\t\t})\n\n\t\t\t\t\troomsRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tusersRef.get().then(val => {\n\t\t\t\tval.forEach(val => {\n\t\t\t\t\tusersRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tasync addData() {\n\t\t\tthis.updatingData = true\n\n\t\t\tconst user1 = this.users[0]\n\t\t\tawait usersRef.doc(user1._id).set(user1)\n\n\t\t\tconst user2 = this.users[1]\n\t\t\tawait usersRef.doc(user2._id).set(user2)\n\n\t\t\tconst user3 = this.users[2]\n\t\t\tawait usersRef.doc(user3._id).set(user3)\n\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user2._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id, user3._id] })\n\n\t\t\tthis.updatingData = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n\tbackground: #fafafa;\n}\n\n.app-container {\n\tfont-family: 'Quicksand', sans-serif;\n\tline-height: 1.5;\n\tpadding: 10px 20px 20px;\n\n\t@media only screen and (max-width: 768px) {\n\t\tpadding: 0;\n\t}\n}\n\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tbackground: #fff;\n}\n\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n}\n\n.button-theme {\n\tfloat: right;\n\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t@media only screen and (max-width: 768px) {\n\t\t\tpadding: 3px 6px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n}\n\n.version-container {\n\tpadding-top: 20px;\n\ttext-align: right;\n\tfont-size: 14px;\n\tcolor: grey;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=087b235e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export function roomsValid(obj) {\n\tconst roomsValidate = [\n\t\t{ key: 'roomId', type: ['string', 'number'] },\n\t\t{ key: 'roomName', type: ['string'] },\n\t\t{ key: 'users', type: ['array'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tlet validType = false\n\n\t\t\tif (prop.type[0] === 'array' && Array.isArray(obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t} else if (prop.type.find(t => t === typeof obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t}\n\n\t\t\treturn validType && obj.hasOwnProperty(prop.key) && obj[prop.key]\n\t\t})\n\t}\n\n\treturn validate(obj, roomsValidate)\n}\n\nexport function partcipantsValid(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'username', type: ['string'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && obj.hasOwnProperty(prop.key) && obj[prop.key]\n\t\t})\n\t}\n\n\treturn validate(obj, participantsValidate)\n}\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo.9a45fc76.svg\";","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=0&id=5ac86e76&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=0&id=5ac86e76&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=style&index=0&id=25b21c98&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesList.vue?vue&type=style&index=0&id=25b21c98&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=18f2505d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=18f2505d&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=70075026&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=70075026&lang=scss&scoped=true&\""],"sourceRoot":""}